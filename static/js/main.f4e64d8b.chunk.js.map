{"version":3,"sources":["serviceWorker.ts","reportWebVitals.ts","components/Icons.tsx","components/PrintDialog.tsx","components/Monaco.tsx","components/DynamicEditor.tsx","components/EditNote.tsx","lib/clickButton.ts","components/Help.tsx","components/Intro.tsx","lib/renderMarkdown.ts","components/ViewNote.tsx","components/AppendText.tsx","components/Buttons.tsx","components/Menu.tsx","components/Settings.tsx","components/ErrorBoundary.tsx","components/AppendEditor.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","infoColor","foregroundColor","ChevronIconDown","fill","role","className","aria-label","width","height","viewBox","xmlns","d","ChevronIconRight","CloseIcon","CopyIcon","EyeIcon","condition","GearIcon","HelpIcon","MenuIcon","PencilIcon","PlusIcon","fill-rule","clip-rule","PrintIcon","RefreshIcon","UndoIcon","PrintDialog","cancelText","confirmText","helpLink","onCancel","onConfirm","onUndo","title","id","onClick","href","target","rel","MonacoEditorContainerID","MonacoDiffEditorContainerID","self","MonacoEnvironment","getWorkerUrl","_moduleId","label","MonacoEditor","editor","fontSize","language","saveText","tabSize","text","theme","viewMode","divEl","useRef","scrollBeyondLastLine","useEffect","current","monaco","create","parseInt","replace","value","join","autoClosingOvertype","formatOnPaste","formatOnType","wordWrap","wrappingStrategy","onKeyDown","e","keyCode","console","log","code","ctrlKey","preventDefault","onKeyUp","onDidChangeModelContent","getValue","dispose","ref","MonacoDiffEditor","diffEditor","modifiedText","originalModel","createModel","modifiedModel","createDiffEditor","originalEditable","readOnly","setModel","original","modified","onDidChangeContent","YouTubeEmbed","videoId","this","props","attrs","matches","isSelected","src","React","DynamicEditor","handleToggleReadOnly","setState","state","handleChange","debounce","debugMode","onChange","template","undefined","placeholder","readOnlyWriteCheckboxes","defaultValue","scrollTo","hash","autoFocus","embeds","keywords","icon","alt","matcher","url","component","EditNote","handleInputChange","event","onBlur","editTextArea","document","getElementById","HtmlElementId","classList","remove","onFocus","add","onKeyDownEditTextArea","onKeyDownTextArea","keyMap","delete","key","editingMode","EditingModes","useMonacoEditor","useDynamicEditor","edit","monacoEditorLanguage","name","rows","spellCheck","Component","defaultProps","clickAppendButton","appendButton","click","clickEditButton","editButton","clickHelpButton","helpButton","clickMenuButton","menuButton","clickSettingsButton","settingsButton","clickViewButton","viewButton","Help","onToggleShowFeelings","showFeelings","onToggleShowMoreQuestions","showMoreQuestions","onToggleShowFeedback","showFeedback","onToggle","Intro","appendMode","editMode","showHelp","gfm","require","breaks","math","rehypeKatex","highlight","emoji","externalLinks","toc","footnotes","slug","raw","processor","unified","use","parse","maxDepth","inlineNotes","remark2rehype","allowDangerousHtml","ignoreMissing","rehype2react","createElement","processMarkdown","processSync","result","isLongString","throttle","length","renderLongMarkdown","ViewNote","onToggleShowHelp","renderMarkdown","bypassDebounce","printURL","view","AppendText","type","checked","autoSaveCheckBoxes","handleTextAreaChange","autoSaveAppendText","appendTextToNote","appendTextArea","focus","newLine","newParagraph","set","get","onKeyDownAppendTextArea","appendNewLine","appendNewParagraph","appendRows","HtmlClassName","ChevronToggleButton","caption","CopyButton","EyeButton","messageOn","messageOff","PencilButton","PrintButton","UndoButton","editingModeID","fontEditID","fontSizeID","fontViewID","monacoEditorLanguageID","resetAllSettingsID","saveAsDefaultID","startRegExp","RegExp","cssRegExp","endRegExp","codeRegExp","Settings","handleSelectChange","toggleShowCustomStyles","showCustomStyles","cleanCustomStyles","customStyles","handleSubmit","fontEditMessage","fontViewMessage","fontEdit","fontView","saveAsDefault","loadDefaultSettings","defaultSettings","refreshCustomStyles","clearCustomStyles","clearFontEdit","clearFontSize","clearFontView","clearEditingMode","usePlainText","clearMonacoEditorLanguage","clearSaveAsDefault","clearAllSettings","resetAllSettings","clear","componentWillUnmount","useCodeMirror","htmlFor","list","ErrorBoundary","hasError","error","errorInfo","message","children","Menu","clearTooltipTimer","resetMessageTimer","clearTimeout","setTimeout","displayMessageEdit","displayMessageShare","showMessageEdit","showMessageShare","copyToClipboard","textField","body","appendChild","select","execCommand","copyText","copyHtml","renderedNote","firstElementChild","innerHTML","formatText","formattedText","prettier","format","parser","plugins","parserMarkdown","refreshEdit","refreshView","uncheckBoxes","checkedBoxes","test","newText","toggleShowMenu","chevronToggleButton","showMenuOptionsView","toggleShowMenuOptionsView","borderlessMode","on","off","toggleBorderlessMode","fixedHeightMode","toggleFixedHeightMode","fullWidthMode","toggleFullWidthMode","overflowMode","toggleOverflowMode","showMenuOptionsShare","toggleShowMenuOptionsShare","printButton","onConfirmPrintUrl","showMenuOptionsEdit","toggleShowMenuOptionsEdit","initialState","appendText","confirmPrintUrl","showAppendix","showHeader","showDiff","settingsMode","last_known_scroll_position","Map","AppendEditor","editorKit","refreshEditorTimer","saveTimer","componentDidMount","onViewMode","loadDefaultMenuState","addEventListener","onScroll","removeEventListener","configureEditorKit","delegate","EditorKitDelegate","setEditorRawText","cancel","flush","savingEditorOptions","loadEditorOptions","loadMetaData","clearUndoHistory","getElementsBySelector","EditorKit","mode","supportsFilesafe","refreshEditor","activateStyles","defaultSettingsString","internal","componentManager","componentDataValueForKey","defaultEditingMode","defaultSettingsObject","JSON","defaultCustomStyles","defaultFontEdit","defaultFontSize","defaultFontView","defaultMonacoEditorLanguage","menuOptionsString","menuOptionsObject","streamContextItem","note","content","appendEditorCustomStyles","appendEditorEditingMode","appendEditorFontEdit","appendEditorFontSize","appendEditorFontView","appendEditorMonacoEditorLanguage","onEditMode","saveNote","scrollY","scrollTop","refreshedView","onEditorValueChanged","textToAppend","concat","saveItemWithPresave","skipToBottom","appendCodeMirror","setValue","configureCodeMirror","editCodeMirror","CodeMirror","fromTextArea","autocorrect","autocapitalize","extraKeys","Enter","lineNumbers","lineWrapping","spellcheck","styleSelectedText","tabindex","setSize","editCodeMirrorText","save","cm","appendCodeMirrorText","toTextArea","onAppendMode","scrollDown","closeEdit","scrollToBottom","toggleShowHelp","scrollToTop","showMenu","activateFixedHeader","saveMenuOptions","currentMenuOptions","saveEditorOption","stringify","optionKey","optionValue","setComponentDataValueForKey","onSettingsMode","currentState","removeFixedHeader","undoDialog","onSaveSettings","sheetToBeRemoved","sheetParent","parentNode","removeChild","fontSizeStyle","fontEditStyle","fontViewStyle","sheet","setAttribute","onCancelPrint","onPrintUrlTrue","printRenderedHtml","onPrintUrlFalse","print","goDown","codeMirrorEditMode","getElementsByClassName","appendix","scrollIntoView","behavior","block","inline","goUp","top","skipToTop","header","fixed","fixedHeader","tabIndex","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.f4e64d8b.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nconst infoColor = 'var(--sn-stylekit-info-color)';\nconst foregroundColor = 'var(--sn-stylekit-foreground-color)';\n\ninterface Icons {\n  condition?: boolean;\n  fill?: string;\n  role: string;\n}\n\nexport const ChevronIconDown: React.FC<Icons> = ({ fill, role }) => (\n  <span className=\"chevron-icon down\">\n    <svg\n      aria-label=\"chevron icon down\"\n      role={role}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.17622 7.15015L10.0012 10.9751L13.8262 7.15015L15.0012 8.33348L10.0012 13.3335L5.00122 8.33348L6.17622 7.15015Z\"\n        fill={fill ? fill : foregroundColor}\n      />\n    </svg>\n  </span>\n);\n\nexport const ChevronIconRight: React.FC<Icons> = ({ fill, role }) => (\n  <span className=\"chevron-icon right\">\n    <svg\n      aria-label=\"chevron icon down\"\n      role={role}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.90918 14.0667L10.7342 10.2417L6.90918 6.4167L8.09251 5.2417L13.0925 10.2417L8.09251 15.2417L6.90918 14.0667Z\"\n        fill={fill ? fill : foregroundColor}\n      />\n    </svg>\n  </span>\n);\n\nexport const CloseIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"close icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M15.2459 5.92917C15.5704 5.6047 15.5704 5.07864 15.2459 4.75417C14.9214 4.4297 14.3954 4.4297 14.0709 4.75417L10.0001 8.82501L5.92925 4.75417C5.60478 4.4297 5.07872 4.4297 4.75425 4.75417C4.42978 5.07864 4.42978 5.6047 4.75425 5.92917L8.82508 10L4.75425 14.0708C4.42978 14.3953 4.42978 14.9214 4.75425 15.2458C5.07872 15.5703 5.60478 15.5703 5.92925 15.2458L10.0001 11.175L14.0709 15.2458C14.3954 15.5703 14.9214 15.5703 15.2459 15.2458C15.5704 14.9214 15.5704 14.3953 15.2459 14.0708L11.1751 10L15.2459 5.92917Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const CopyIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"copy icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1.66724 3.66626C1.66724 2.56169 2.56267 1.66626 3.66724 1.66626H11.3339C12.4385 1.66626 13.3339 2.56169 13.3339 3.66626V13.3329H3.66724C2.56267 13.3329 1.66724 12.4375 1.66724 11.3329V3.66626ZM16.3339 6.66626C17.4385 6.66626 18.3339 7.56169 18.3339 8.66626V16.3329C18.3339 17.4375 17.4385 18.3329 16.3339 18.3329H8.66724C7.56267 18.3329 6.66724 17.4375 6.66724 16.3329V14.9996H15.0006V6.66626H16.3339ZM3.3339 3.33293V11.6663H11.6672V3.33293H3.3339Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const EyeIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"eye icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.99992 7.5C9.33688 7.5 8.70099 7.76339 8.23215 8.23223C7.76331 8.70107 7.49992 9.33696 7.49992 10C7.49992 10.663 7.76331 11.2989 8.23215 11.7678C8.70099 12.2366 9.33688 12.5 9.99992 12.5C10.663 12.5 11.2988 12.2366 11.7677 11.7678C12.2365 11.2989 12.4999 10.663 12.4999 10C12.4999 9.33696 12.2365 8.70107 11.7677 8.23223C11.2988 7.76339 10.663 7.5 9.99992 7.5ZM9.99992 14.1667C8.89485 14.1667 7.83504 13.7277 7.05364 12.9463C6.27224 12.1649 5.83325 11.1051 5.83325 10C5.83325 8.89493 6.27224 7.83512 7.05364 7.05372C7.83504 6.27232 8.89485 5.83333 9.99992 5.83333C11.105 5.83333 12.1648 6.27232 12.9462 7.05372C13.7276 7.83512 14.1666 8.89493 14.1666 10C14.1666 11.1051 13.7276 12.1649 12.9462 12.9463C12.1648 13.7277 11.105 14.1667 9.99992 14.1667ZM9.99992 3.75C5.83325 3.75 2.27492 6.34167 0.833252 10C2.27492 13.6583 5.83325 16.25 9.99992 16.25C14.1666 16.25 17.7249 13.6583 19.1666 10C17.7249 6.34167 14.1666 3.75 9.99992 3.75Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const GearIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"gear icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.0001 6.66675C10.8842 6.66675 11.732 7.01794 12.3571 7.64306C12.9823 8.26818 13.3334 9.11603 13.3334 10.0001C13.3334 10.8841 12.9823 11.732 12.3571 12.3571C11.732 12.9822 10.8842 13.3334 10.0001 13.3334C9.11606 13.3334 8.26821 12.9822 7.64309 12.3571C7.01797 11.732 6.66678 10.8841 6.66678 10.0001C6.66678 9.11603 7.01797 8.26818 7.64309 7.64306C8.26821 7.01794 9.11606 6.66675 10.0001 6.66675ZM10.0001 8.33342C9.55808 8.33342 9.13416 8.50901 8.8216 8.82157C8.50904 9.13413 8.33344 9.55805 8.33344 10.0001C8.33344 10.4421 8.50904 10.866 8.8216 11.1786C9.13416 11.4912 9.55808 11.6667 10.0001 11.6667C10.4421 11.6667 10.8661 11.4912 11.1786 11.1786C11.4912 10.866 11.6668 10.4421 11.6668 10.0001C11.6668 9.55805 11.4912 9.13413 11.1786 8.82157C10.8661 8.50901 10.4421 8.33342 10.0001 8.33342ZM8.33344 18.3334C8.12511 18.3334 7.95011 18.1834 7.91678 17.9834L7.60844 15.7751C7.08344 15.5667 6.63344 15.2834 6.20011 14.9501L4.12511 15.7917C3.94178 15.8584 3.71678 15.7917 3.61678 15.6084L1.95011 12.7251C1.84178 12.5417 1.89178 12.3167 2.05011 12.1917L3.80844 10.8084L3.75011 10.0001L3.80844 9.16675L2.05011 7.80841C1.89178 7.68341 1.84178 7.45841 1.95011 7.27508L3.61678 4.39175C3.71678 4.20841 3.94178 4.13341 4.12511 4.20842L6.20011 5.04175C6.63344 4.71675 7.08344 4.43341 7.60844 4.22508L7.91678 2.01675C7.95011 1.81675 8.12511 1.66675 8.33344 1.66675H11.6668C11.8751 1.66675 12.0501 1.81675 12.0834 2.01675L12.3918 4.22508C12.9168 4.43341 13.3668 4.71675 13.8001 5.04175L15.8751 4.20842C16.0584 4.13341 16.2834 4.20841 16.3834 4.39175L18.0501 7.27508C18.1584 7.45841 18.1084 7.68341 17.9501 7.80841L16.1918 9.16675L16.2501 10.0001L16.1918 10.8334L17.9501 12.1917C18.1084 12.3167 18.1584 12.5417 18.0501 12.7251L16.3834 15.6084C16.2834 15.7917 16.0584 15.8667 15.8751 15.7917L13.8001 14.9584C13.3668 15.2834 12.9168 15.5667 12.3918 15.7751L12.0834 17.9834C12.0501 18.1834 11.8751 18.3334 11.6668 18.3334H8.33344ZM9.37511 3.33341L9.06678 5.50841C8.06678 5.71675 7.18344 6.25008 6.54178 6.99175L4.53344 6.12508L3.90844 7.20841L5.66678 8.50008C5.33344 9.47508 5.33344 10.5334 5.66678 11.5001L3.90011 12.8001L4.52511 13.8834L6.55011 13.0167C7.19178 13.7501 8.06678 14.2834 9.05844 14.4834L9.36678 16.6667H10.6334L10.9418 14.4917C11.9334 14.2834 12.8084 13.7501 13.4501 13.0167L15.4751 13.8834L16.1001 12.8001L14.3334 11.5084C14.6668 10.5334 14.6668 9.47508 14.3334 8.50008L16.0918 7.20841L15.4668 6.12508L13.4584 6.99175C12.8168 6.25008 11.9334 5.71675 10.9334 5.51675L10.6251 3.33341H9.37511Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const HelpIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"help icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.16675 15.0001H10.8334V13.3334H9.16675V15.0001ZM10.0001 1.66675C8.90573 1.66675 7.8221 1.8823 6.81105 2.30109C5.80001 2.71987 4.88135 3.3337 4.10753 4.10753C2.54472 5.67033 1.66675 7.78995 1.66675 10.0001C1.66675 12.2102 2.54472 14.3298 4.10753 15.8926C4.88135 16.6665 5.80001 17.2803 6.81105 17.6991C7.8221 18.1179 8.90573 18.3334 10.0001 18.3334C12.2102 18.3334 14.3298 17.4554 15.8926 15.8926C17.4554 14.3298 18.3334 12.2102 18.3334 10.0001C18.3334 8.90573 18.1179 7.8221 17.6991 6.81105C17.2803 5.80001 16.6665 4.88135 15.8926 4.10753C15.1188 3.3337 14.2002 2.71987 13.1891 2.30109C12.1781 1.8823 11.0944 1.66675 10.0001 1.66675ZM10.0001 16.6668C6.32508 16.6668 3.33342 13.6751 3.33342 10.0001C3.33342 6.32508 6.32508 3.33342 10.0001 3.33342C13.6751 3.33342 16.6668 6.32508 16.6668 10.0001C16.6668 13.6751 13.6751 16.6668 10.0001 16.6668ZM10.0001 5.00008C9.11603 5.00008 8.26818 5.35127 7.64306 5.97639C7.01794 6.60151 6.66675 7.44936 6.66675 8.33342H8.33342C8.33342 7.89139 8.50901 7.46747 8.82157 7.1549C9.13413 6.84234 9.55806 6.66675 10.0001 6.66675C10.4421 6.66675 10.866 6.84234 11.1786 7.1549C11.4912 7.46747 11.6667 7.89139 11.6667 8.33342C11.6667 10.0001 9.16675 9.79175 9.16675 12.5001H10.8334C10.8334 10.6251 13.3334 10.4167 13.3334 8.33342C13.3334 7.44936 12.9822 6.60151 12.3571 5.97639C11.732 5.35127 10.8841 5.00008 10.0001 5.00008Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const MenuIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"menu icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M17 5V6.66667H3V5H17ZM3 15H17V13.3333H3V15ZM3 10.8333H17V9.16667H3V10.8333Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const PencilIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"pencil icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M11.7167 7.5L12.5 8.28333L4.93333 15.8333H4.16667V15.0667L11.7167 7.5ZM14.7167 2.5C14.5083 2.5 14.2917 2.58333 14.1333 2.74167L12.6083 4.26667L15.7333 7.39167L17.2583 5.86667C17.5833 5.54167 17.5833 5 17.2583 4.69167L15.3083 2.74167C15.1417 2.575 14.9333 2.5 14.7167 2.5ZM11.7167 5.15833L2.5 14.375V17.5H5.625L14.8417 8.28333L11.7167 5.15833Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const PlusIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    role={role}\n    aria-label=\"plus icon\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M11.385 11.385H15.615C16.3799 11.385 17 10.7649 17 10C17 9.23507 16.3799 8.61497 15.615 8.61497H11.385V4.38503C11.385 3.6201 10.7649 3 10 3C9.23507 3 8.61497 3.6201 8.61497 4.38503V8.61497H4.38503C3.6201 8.61497 3 9.23507 3 10C3 10.7649 3.6201 11.385 4.38503 11.385H8.61497V15.615C8.61497 16.3799 9.23507 17 10 17C10.7649 17 11.385 16.3799 11.385 15.615V11.385Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const PrintIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"print icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M15.0001 2.5H5.00008V5.83333H15.0001V2.5ZM15.8334 10C15.6124 10 15.4004 9.9122 15.2442 9.75592C15.0879 9.59964 15.0001 9.38768 15.0001 9.16667C15.0001 8.94565 15.0879 8.73369 15.2442 8.57741C15.4004 8.42113 15.6124 8.33333 15.8334 8.33333C16.0544 8.33333 16.2664 8.42113 16.4227 8.57741C16.579 8.73369 16.6668 8.94565 16.6668 9.16667C16.6668 9.38768 16.579 9.59964 16.4227 9.75592C16.2664 9.9122 16.0544 10 15.8334 10ZM13.3334 15.8333H6.66675V11.6667H13.3334V15.8333ZM15.8334 6.66667H4.16675C3.50371 6.66667 2.86782 6.93006 2.39898 7.3989C1.93014 7.86774 1.66675 8.50363 1.66675 9.16667V14.1667H5.00008V17.5H15.0001V14.1667H18.3334V9.16667C18.3334 8.50363 18.07 7.86774 17.6012 7.3989C17.1323 6.93006 16.4965 6.66667 15.8334 6.66667Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const RefreshIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"refresh icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.99992 14.9999C8.67384 14.9999 7.40207 14.4731 6.46438 13.5355C5.5267 12.5978 4.99992 11.326 4.99992 9.99992C4.99992 9.16658 5.20825 8.35825 5.58325 7.66658L4.36659 6.44992C3.71659 7.47492 3.33325 8.69158 3.33325 9.99992C3.33325 11.768 4.03563 13.4637 5.28587 14.714C6.53612 15.9642 8.23181 16.6666 9.99992 16.6666V19.1666L13.3333 15.8332L9.99992 12.4999V14.9999ZM9.99992 3.33325V0.833252L6.66658 4.16658L9.99992 7.49992V4.99992C11.326 4.99992 12.5978 5.5267 13.5355 6.46438C14.4731 7.40207 14.9999 8.67383 14.9999 9.99992C14.9999 10.8333 14.7916 11.6416 14.4166 12.3333L15.6333 13.5499C16.2833 12.5249 16.6666 11.3083 16.6666 9.99992C16.6666 8.23181 15.9642 6.53612 14.714 5.28587C13.4637 4.03563 11.768 3.33325 9.99992 3.33325Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const UndoIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"undo icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.1812 7.66667C8.36883 7.66667 6.72741 8.33333 5.46214 9.4L3 7V13H9.15535L6.67953 10.5867C7.63019 9.81333 8.84074 9.33333 10.1812 9.33333C12.6023 9.33333 14.661 10.8733 15.3791 13L17 12.48C16.0493 9.68667 13.3615 7.66667 10.1812 7.66667Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n","// import { Method } from '@testing-library/react';\nimport React from 'react';\nimport { CloseIcon } from './Icons';\n\ninterface PrintDialogTypes {\n  cancelText: string;\n  confirmText: string;\n  helpLink: string;\n  onCancel: () => void;\n  onConfirm: () => void;\n  onUndo: () => void;\n  title: string;\n}\n\nconst PrintDialog: React.FC<PrintDialogTypes> = ({\n  cancelText,\n  confirmText,\n  helpLink,\n  onCancel,\n  onConfirm,\n  onUndo,\n  title,\n}) => (\n  <div className=\"note-overlay\">\n    <div className=\"sk-panel note-dialog\">\n      <div className=\"sk-panel-content\">\n        <div className=\"sk-panel-section\">\n          <div className=\"sk-panel-row title-section\">\n            <h2>{title}</h2>\n            <button id=\"undoDialog\" onClick={onUndo} title=\"Close\">\n              <CloseIcon role=\"button\" />\n            </button>\n          </div>\n          <p>\n            Need help deciding? Check out the{' '}\n            <a href={helpLink} target=\"_blank\" rel=\"noopener noreferrer\">\n              documentation\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n      <div className=\"sk-panel-footer\">\n        <div className=\"sk-button-group stretch\">\n          <button className=\"sk-button neutral\" onClick={onCancel}>\n            <div>{cancelText}</div>\n          </button>\n          <button className=\"sk-button info\" onClick={onConfirm}>\n            <div>{confirmText}</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default PrintDialog;\n","/**\n * This component is derived from the \"browser-esm-webpack-typescript-react\" found\n * at https://github.com/microsoft/monaco-editor-samples,\n * which is released under MIT, Copyright (c) 2016 Microsoft Corporation.\n * This modified version is released under AGPL-3.0 as indicated in the README.md\n * in the root directory. A copy of AGPL-3.0 is available there.\n * */\nimport React, { useRef, useEffect } from 'react';\nimport * as monaco from 'monaco-editor';\n\nconst debugMode = false;\nconst MonacoEditorContainerID = 'MonacoEditorContainer';\nconst MonacoDiffEditorContainerID = 'MonacoDiffEditorContainer';\n\n/*eslint no-restricted-globals: [\"error\", \"event\", \"monaco\"]*/\n// @ts-ignore\nself.MonacoEnvironment = {\n  getWorkerUrl: function (_moduleId: any, label: string) {\n    if (label === 'json') {\n      return './json.worker.bundle.js';\n    }\n    if (label === 'css') {\n      return './css.worker.bundle.js';\n    }\n    if (label === 'html') {\n      return './html.worker.bundle.js';\n    }\n    if (label === 'typescript' || label === 'javascript') {\n      return './ts.worker.bundle.js';\n    }\n    return './editor.worker.bundle.js';\n  },\n};\n\nconst onKeyDown = (keyCode: string, debugMode = false) => {\n  if (debugMode) {\n    console.log('IKeyboardEvent Up: ' + keyCode);\n  }\n};\n\nconst onKeyUp = (keyCode: string, debugMode = false) => {\n  if (debugMode) {\n    console.log('IKeyboardEvent Up: ' + keyCode);\n  }\n};\n\ninterface MonacoEditorTypes {\n  fontSize?: string;\n  id?: string;\n  language?: string;\n  onKeyDown?: Function;\n  onKeyUp?: Function;\n  saveText?: Function;\n  tabSize?: number;\n  text: string;\n  theme?: string;\n  viewMode?: boolean;\n}\n\nexport const MonacoEditor: React.FC<MonacoEditorTypes> = ({\n  fontSize = '16',\n  id = MonacoEditorContainerID,\n  language = 'markdown',\n  saveText,\n  tabSize = 2,\n  text,\n  theme = 'vs-dark',\n  viewMode = false,\n}) => {\n  const divEl = useRef<HTMLDivElement>(null);\n  let editor: monaco.editor.IStandaloneCodeEditor;\n\n  if (fontSize === '') {\n    fontSize = '16px';\n  }\n\n  let scrollBeyondLastLine = true;\n  if (viewMode) {\n    scrollBeyondLastLine = false;\n  }\n\n  useEffect(() => {\n    if (divEl.current) {\n      editor = monaco.editor.create(divEl.current, {\n        // These are variable: customizable by user or dependent on props\n        fontSize: parseInt(fontSize.replace('px', '')),\n        language: language,\n        tabSize: tabSize,\n        theme: theme,\n        scrollBeyondLastLine: scrollBeyondLastLine,\n        value: [text].join('\\n'),\n\n        // These are not customizable\n        autoClosingOvertype: 'auto',\n        formatOnPaste: true,\n        formatOnType: true,\n        wordWrap: 'on',\n        wrappingStrategy: 'advanced',\n      });\n\n      // Keyboard Events\n      editor.onKeyDown((e: monaco.IKeyboardEvent) => {\n        onKeyDown(e.code, debugMode);\n        if (e.ctrlKey && e.code === 'KeyS') {\n          e.preventDefault();\n        }\n      });\n      editor.onKeyUp((e: monaco.IKeyboardEvent) => {\n        onKeyUp(e.code, debugMode);\n      });\n\n      // Content Change Events\n      editor.onDidChangeModelContent(\n        (e: monaco.editor.IModelContentChangedEvent) => {\n          if (saveText) {\n            saveText(editor.getValue());\n          }\n        }\n      );\n    }\n    return () => {\n      editor.dispose();\n    };\n  }, []);\n  return <div id={id} className={MonacoEditorContainerID} ref={divEl}></div>;\n};\n\ninterface MonacoDiffEditorTypes extends MonacoEditorTypes {\n  modifiedText: string;\n}\n\nexport const MonacoDiffEditor: React.FC<MonacoDiffEditorTypes> = ({\n  fontSize = '16',\n  id = MonacoDiffEditorContainerID,\n  language = 'markdown',\n  saveText,\n  text,\n  modifiedText,\n  theme = 'vs-dark',\n}) => {\n  const divEl = useRef<HTMLDivElement>(null);\n  let diffEditor: monaco.editor.IStandaloneDiffEditor;\n\n  if (fontSize === '') {\n    fontSize = '16px';\n  }\n\n  useEffect(() => {\n    if (divEl.current) {\n      const originalModel = monaco.editor.createModel(\n        [text].join('\\n'),\n        language\n      );\n      const modifiedModel = monaco.editor.createModel(\n        [modifiedText].join('\\n'),\n        language\n      );\n\n      diffEditor = monaco.editor.createDiffEditor(divEl.current, {\n        // Same settings as above\n        // These are variable: customizable by user or dependent on props\n        fontSize: parseInt(fontSize.replace('px', '')),\n        theme: theme,\n\n        // These are not customizable\n        autoClosingOvertype: 'auto',\n        formatOnPaste: true,\n        formatOnType: true,\n        wordWrap: 'on',\n        wrappingStrategy: 'advanced',\n\n        // Specific to Diff Editor\n        originalEditable: true, // for left panel\n        readOnly: true, // for right panel\n      });\n      diffEditor.setModel({\n        original: originalModel,\n        modified: modifiedModel,\n      });\n\n      // Content Change Events\n      originalModel.onDidChangeContent(\n        (e: monaco.editor.IModelContentChangedEvent) => {\n          if (saveText) {\n            saveText(originalModel.getValue());\n          }\n        }\n      );\n    }\n    return () => {\n      diffEditor.dispose();\n    };\n  }, []);\n  return (\n    <div id={id} className={MonacoDiffEditorContainerID} ref={divEl}></div>\n  );\n};\n","/**\n * This component is derived from the example found at\n * https://github.com/outline/rich-markdown-editor/blob/develop/example/src/index.js,\n * which is released under BSD-3 License, Copyright (c) 2020 General Outline,\n * Inc (https://www.getoutline.com/) and individual contributors.\n * This modified version is released under AGPL-3.0 as indicated in the README.md\n * in the root directory. A copy of AGPL-3.0 is available there.\n * */\n\nimport * as React from 'react';\nimport debounce from 'lodash/debounce';\nimport RichMarkdownEditor from 'rich-markdown-editor';\n\nclass YouTubeEmbed extends React.Component<any, any> {\n  render() {\n    const { attrs } = this.props;\n    const videoId = attrs.matches[1];\n\n    return (\n      <iframe\n        title={`Youtube Embed ${videoId}`}\n        className={\n          this.props.isSelected ? 'YouTube ProseMirror-selectednode' : 'YouTube'\n        }\n        src={`https://www.youtube.com/embed/${videoId}?modestbranding=1`}\n      />\n    );\n  }\n}\n\ninterface DynamicProps {\n  debugMode: boolean;\n  onChange: (text: string) => void;\n  readOnly: boolean;\n  text: string;\n}\n\ninterface DynamicState {\n  readOnly: boolean;\n  template: boolean;\n  value: undefined;\n}\n\nexport default class DynamicEditor extends React.Component<\n  DynamicProps,\n  DynamicState\n> {\n  constructor(props: DynamicProps) {\n    super(props);\n    this.state = {\n      readOnly: this.props.readOnly,\n      template: false,\n      value: undefined,\n    };\n  }\n\n  handleToggleReadOnly = () => {\n    this.setState({ readOnly: !this.state.readOnly });\n  };\n\n  handleChange = debounce((value) => {\n    const text = value();\n    if (this.props.debugMode) {\n      console.log(text);\n    }\n    this.props.onChange(text);\n  }, 50);\n\n  render() {\n    return (\n      <RichMarkdownEditor\n        className={'DynamicEditor'}\n        placeholder={\"Type '/' to insert...\"}\n        id={'DynamicEditor'}\n        readOnly={this.state.readOnly}\n        readOnlyWriteCheckboxes\n        value={this.state.value}\n        defaultValue={this.props.text}\n        scrollTo={window.location.hash}\n        onCancel={() => {\n          if (this.props.debugMode) {\n            console.log('Cancel triggered');\n          }\n        }}\n        autoFocus\n        onChange={(value) => this.handleChange(value)}\n        embeds={[\n          {\n            title: 'YouTube',\n            keywords: 'youtube video tube google',\n            icon: () => (\n              <img\n                alt=\"YouTube Logo\"\n                src=\"/icons/ic-YouTube.svg\"\n                width={24}\n                height={24}\n              />\n            ),\n            //@ts-ignore\n            matcher: (url) => {\n              return url.match(\n                /(?:https?:\\/\\/)?(?:www\\.)?youtu\\.?be(?:\\.com)?\\/?.*(?:watch|embed)?(?:.*v=|v\\/|\\/)([a-zA-Z0-9_-]{11})$/i\n              );\n            },\n            component: YouTubeEmbed,\n          },\n        ]}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { EditingModes } from './AppendEditor';\nimport { MonacoEditor } from './Monaco';\nimport DynamicEditor from './DynamicEditor';\n\nimport { HtmlElementId } from './AppendEditor';\n\ninterface EditProps {\n  debugMode: boolean;\n  editingMode?: string;\n  fontSize: string;\n  keyMap: any;\n  monacoEditorLanguage: string;\n  onKeyDown: Function;\n  onKeyUp: Function;\n  onKeyDownEditTextArea: Function;\n  onKeyDownTextArea: Function;\n  saveText: Function;\n  text: string;\n  viewMode: boolean | undefined;\n}\n\ninterface EditState {\n  text: string;\n}\n\nexport default class EditNote extends React.Component<EditProps, EditState> {\n  static defaultProps = {\n    // none\n  };\n\n  constructor(props: EditProps) {\n    super(props);\n\n    this.state = {\n      text: this.props.text,\n    };\n  }\n\n  handleInputChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const target = event.target;\n    const value = target.value;\n\n    this.setState(\n      {\n        text: value,\n      },\n      () => {\n        this.props.saveText(this.state.text);\n      }\n    );\n  };\n\n  saveText = (text: string) => {\n    this.setState(\n      {\n        text,\n      },\n      () => {\n        this.props.saveText(this.state.text);\n      }\n    );\n  };\n\n  onBlur = (e: React.FocusEvent) => {\n    const editTextArea = document.getElementById(HtmlElementId.editTextArea);\n    if (editTextArea) {\n      editTextArea.classList.remove('focused');\n    }\n  };\n\n  onFocus = (e: React.FocusEvent) => {\n    const editTextArea = document.getElementById(HtmlElementId.editTextArea);\n    if (editTextArea) {\n      editTextArea.classList.add('focused');\n    }\n  };\n\n  onKeyDown = (e: React.KeyboardEvent) => {\n    this.props.onKeyDown(e);\n    this.props.onKeyDownEditTextArea(e);\n    this.props.onKeyDownTextArea(e);\n  };\n\n  onKeyUp = (event: React.KeyboardEvent) => {\n    this.props.keyMap.delete(event.key);\n    this.props.onKeyUp(event);\n  };\n\n  render() {\n    const { text } = this.state;\n    return (\n      <div\n        className={\n          'sk-panel main edit ' +\n          (this.props.editingMode === EditingModes.useMonacoEditor\n            ? 'monacoEditor'\n            : this.props.editingMode === EditingModes.useDynamicEditor\n            ? 'dynamicEditor'\n            : 'otherEditor')\n        }\n      >\n        <div\n          className={\n            'sk-panel-content edit ' +\n            (this.props.editingMode === EditingModes.useMonacoEditor\n              ? 'monacoEditor'\n              : '')\n          }\n          id={HtmlElementId.edit}\n        >\n          {this.props.editingMode === EditingModes.useMonacoEditor ? (\n            <MonacoEditor\n              fontSize={this.props.fontSize}\n              language={this.props.monacoEditorLanguage}\n              saveText={this.saveText}\n              text={text}\n              viewMode={this.props.viewMode}\n            />\n          ) : this.props.editingMode === EditingModes.useDynamicEditor ? (\n            <div id=\"dynamicEditor\">\n              <DynamicEditor\n                debugMode={this.props.debugMode}\n                text={text}\n                onChange={this.saveText}\n                readOnly={false}\n              />\n            </div>\n          ) : (\n            <textarea\n              id={HtmlElementId.editTextArea}\n              name=\"text\"\n              className={'sk-input contrast textarea editnote'}\n              placeholder=\"Welcome to the Append Editor! 😄\"\n              rows={15}\n              spellCheck=\"true\"\n              value={text}\n              onBlur={this.onBlur}\n              onChange={this.handleInputChange}\n              onFocus={this.onFocus}\n              onKeyDown={this.onKeyDown}\n              onKeyUp={this.onKeyUp}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import { HtmlElementId } from '../components/AppendEditor';\n\nexport const clickAppendButton = () => {\n  const appendButton = document.getElementById(HtmlElementId.appendButton);\n  if (appendButton) {\n    appendButton.click();\n  }\n};\n\nexport const clickEditButton = () => {\n  const editButton = document.getElementById(HtmlElementId.editButton);\n  if (editButton) {\n    editButton.click();\n  }\n};\n\nexport const clickHelpButton = () => {\n  const helpButton = document.getElementById(HtmlElementId.helpButton);\n  if (helpButton) {\n    helpButton.click();\n  }\n};\n\nexport const clickMenuButton = () => {\n  const menuButton = document.getElementById(HtmlElementId.menuButton);\n  if (menuButton) {\n    menuButton.click();\n  }\n};\n\nexport const clickSettingsButton = () => {\n  const settingsButton = document.getElementById(HtmlElementId.settingsButton);\n  if (settingsButton) {\n    settingsButton.click();\n  }\n};\n\nexport const clickViewButton = () => {\n  const viewButton = document.getElementById(HtmlElementId.viewButton);\n  if (viewButton) {\n    viewButton.click();\n  }\n};\n","import React from 'react';\nimport { GearIcon, HelpIcon, MenuIcon } from './Icons';\nimport {\n  clickHelpButton,\n  clickMenuButton,\n  clickSettingsButton,\n} from '../lib/clickButton';\n\ninterface HelpProps {\n  debugMode: boolean;\n  printURL: boolean;\n}\n\ninterface HelpState {\n  showFeelings: boolean;\n  showMoreQuestions: boolean;\n  showFeedback: boolean;\n}\n\nexport default class Help extends React.Component<HelpProps, HelpState> {\n  constructor(props: HelpProps) {\n    super(props);\n\n    this.state = {\n      showFeelings: false,\n      showMoreQuestions: false,\n      showFeedback: false,\n    };\n  }\n\n  onToggleShowFeelings = () => {\n    this.setState({\n      showFeelings: !this.state.showFeelings,\n    });\n  };\n\n  onToggleShowMoreQuestions = () => {\n    this.setState({\n      showMoreQuestions: !this.state.showMoreQuestions,\n    });\n  };\n\n  onToggleShowFeedback = () => {\n    this.setState({\n      showFeedback: !this.state.showFeedback,\n    });\n  };\n\n  render() {\n    return (\n      <div id=\"help\">\n        <hr></hr>\n        <h2>Append Editor Help</h2>\n        <p>\n          The Append Editor is an <b>unofficial</b>{' '}\n          <a\n            href=\"https://standardnotes.org/help/77/what-are-editors\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            editor\n          </a>{' '}\n          for{' '}\n          <a\n            href=\"https://standardnotes.org/\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            Standard Notes\n          </a>\n          , a free,{' '}\n          <a\n            href=\"https://standardnotes.org/knowledge/5/what-is-free-and-open-source-software\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            open-source\n          </a>\n          , and{' '}\n          <a\n            href=\"https://standardnotes.org/knowledge/2/what-is-end-to-end-encryption\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            end-to-end encrypted\n          </a>{' '}\n          notes app. The Append Editor is also free software licensed under{' '}\n          <a\n            href=\"https://github.com/TheodoreChu/append-editor/blob/main/LICENSE\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            AGPL-3.0\n          </a>\n          . Its source code is available on{' '}\n          <a\n            href=\"https://github.com/TheodoreChu/append-editor\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            GitHub\n          </a>\n          .\n        </p>\n        <h3>Append Editor Features</h3>\n        <p>\n          The Append Editor supports{' '}\n          <a\n            href=\"https://guides.github.com/features/mastering-markdown/\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            Markdown\n          </a>{' '}\n          with{' '}\n          <a\n            href=\"https://katex.org/docs/support_table.html\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            KaTeX\n          </a>\n          , syntax highlighting, in-line HTML, table of contents, footnotes,\n          auto-linking,{' '}\n          <a\n            href=\"https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md\"\n            target=\"_blank\"\n            rel=\"nofollow noreferrer noopener\"\n          >\n            emoji codes\n          </a>\n          , and more.{' '}\n        </p>\n        <p>\n          There are four editing modes: Plain Textarea, CodeMirror, Dynamic, and\n          Monaco. You can read about each mode and choose which to use in the\n          Settings\n          <button\n            className=\"inline-text-and-svg\"\n            onClick={clickSettingsButton}\n            title=\"Open Settings\"\n          >\n            <span>&nbsp;</span>\n            <GearIcon role=\"button\" />\n            <span>&nbsp;</span>\n          </button>\n          . You can also choose default and per-note font sizes, font families,\n          and custom styles (CSS).\n        </p>\n        <p>\n          The Menu\n          <button\n            className=\"inline-text-and-svg\"\n            onClick={clickMenuButton}\n            title=\"Open the Menu\"\n          >\n            <span>&nbsp;</span>\n            <MenuIcon role=\"button\" />\n            <span>&nbsp;</span>\n          </button>\n          has additional options to customize the appearance of the editor,\n          share your note, and perform actions to quickly format and edit\n          Markdown text.\n        </p>\n        <p>\n          A more detailed documentation of the Append Editor is available at{' '}\n          <a\n            href=\"https://appendeditor.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            appendeditor.com\n          </a>\n          . If you like the Append Editor, please support it by giving it a star\n          on{' '}\n          <a\n            href=\"https://github.com/TheodoreChu/append-editor/stargazers\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            GitHub\n          </a>\n          .{' '}\n          <span role=\"img\" aria-label=\"smile emoji\">\n            🙂\n          </span>{' '}\n        </p>\n        <h3>How to install the Append Editor in Standard Notes</h3>\n        <ol>\n          <li>\n            Download, install, and sign in to the Standard Notes{' '}\n            <a\n              href=\"https://standardnotes.org/download\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Desktop\n            </a>{' '}\n            app.\n          </li>\n          <li>\n            In the bottom left corner of the app, click <b>Extensions</b>.\n          </li>\n          <li>\n            Click <b>Import Extensions</b> and paste the following link into the\n            input box. If you want to use the alpha version, replace{' '}\n            <code>beta</code> with <code>alpha</code>:{' '}\n            <code>\n              <a\n                href=\"https://raw.githubusercontent.com/TheodoreChu/append-editor/main/public/beta.ext.json\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                https://raw.githubusercontent.com/TheodoreChu/append-editor/main/public/beta.ext.json\n              </a>\n            </code>\n          </li>\n          <li>\n            Press <b>Enter</b> or <b>Return</b> on your keyboard.\n          </li>\n          <li>\n            The title of your selected note is near the top of the app. Under\n            the title, click <b>Editor</b>, click <b>Append Editor</b>, and\n            click <b>Continue</b> to begin using the editor. Enjoy!{' '}\n            <span role=\"img\" aria-label=\"clap emoji\">\n              👏\n            </span>{' '}\n          </li>\n        </ol>\n        <p>\n          After you install the editor on the desktop app, it will automatically\n          sync to the{' '}\n          <a\n            href=\"https://app.standardnotes.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            web\n          </a>{' '}\n          and{' '}\n          <a\n            href=\"https://standardnotes.org/download\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            mobile apps\n          </a>{' '}\n          after you sign in.\n        </p>\n        <h3>What to write about</h3>\n        <p>\n          The Append Editor is great for writing articles, blog posts,\n          checklists, code snippets, documentation, emails, essays, journals,\n          lists, logs, notes, tables, todo lists, and much more. Here are some\n          questions to help you get started with today's daily journal:\n        </p>{' '}\n        <ul>\n          <li>How are you? What's happening?</li>\n          <li>What might be affecting your mood?</li>\n          <li>Which feelings fit your mood and to what extent?</li>\n          <details onToggle={this.onToggleShowFeelings}>\n            <summary>\n              {!this.state.showFeelings && [\n                <p className=\"link\">Show feelings</p>,\n              ]}\n              {this.state.showFeelings && [\n                <p className=\"link\">Hide feelings</p>,\n              ]}\n            </summary>\n            <li>\n              <b>Positive Feelings:</b> bold, calm, cheerful, confident,\n              content, eager, ecstatic, energized, engaged, enthusiastic,\n              excited, grateful, happy, humorous, inspired, joyful, light,\n              lively, loving, motivated, optimistic, passionate, peaceful,\n              playful, proud, reassured, refreshed, relaxed, relieved,\n              satisfied, secure, surprised, thrilled, wonderful\n            </li>\n            <li>\n              <b>Negative Feelings:</b> afraid, angry, annoyed, anxious,\n              ashamed, bored, burnt out, confused, demoralized, depressed,\n              disappointed, disgusted, distraught, embarrassed, empty,\n              exhausted, frustrated, furious, guilty, heavy, insecure,\n              irritated, jealous, jittery, lethargic, lonely, nervous, numb,\n              resentful, sad, self-conscious, sleepy, stressed, tired, winded,\n              worried\n            </li>\n          </details>\n          <li>What thoughts are contributing to the way you're feeling?</li>\n          <details onToggle={this.onToggleShowMoreQuestions}>\n            <summary>\n              {!this.state.showMoreQuestions && [\n                <p className=\"link\">Show more questions</p>,\n              ]}\n              {this.state.showMoreQuestions && [\n                <p className=\"link\">Show fewer questions</p>,\n              ]}\n            </summary>\n          </details>\n          {this.state.showMoreQuestions && [\n            <div>\n              <li>\n                What do you hope your life will look like in a week? a month? a\n                year?\n              </li>\n              <li>\n                What can you do today to make your life the way you want it?\n              </li>\n              <li>\n                How will you feel when you've realized the goals that you have\n                for yourself?\n              </li>\n              <li>Who or what do you feel grateful for and why?</li>\n              <li>What did you enjoy about today?</li>\n            </div>,\n          ]}\n        </ul>\n        <details onToggle={this.onToggleShowFeedback}>\n          <summary>\n            <p className=\"link\">Need more help?</p>\n          </summary>\n          {this.state.showFeedback && [\n            <p>\n              Feel free to{' '}\n              <a\n                href=\"https://appendeditor.com/contact\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                reach out\n              </a>{' '}\n              if you have any questions, comments, concerns, or feedback.{' '}\n              <span role=\"img\" aria-label=\"wave emoji\">\n                👋\n              </span>\n              <br />\n              If you find any bugs or have a feature request, please{' '}\n              <a\n                href=\"https://github.com/TheodoreChu/append-editor/issues\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                open an issue on GitHub\n              </a>\n              .{' '}\n              <span role=\"img\" aria-label=\"smile emoji\">\n                🙂\n              </span>\n              <br />\n              You are using version <code>1.2.0</code>. The release notes and\n              change log are available on{' '}\n              <a\n                href=\"https://github.com/TheodoreChu/append-editor/releases\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                GitHub\n              </a>\n              .\n            </p>,\n          ]}\n        </details>\n        Click Help\n        <button\n          className=\"inline-text-and-svg\"\n          onClick={clickHelpButton}\n          title=\"Close Help\"\n        >\n          <span>&nbsp;</span>\n          <HelpIcon fill={'var(--sn-stylekit-info-color)'} role=\"button\" />\n          <span>&nbsp;</span>\n        </button>\n        to close this section.\n        <hr></hr>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { EyeIcon, HelpIcon, PencilIcon, PlusIcon } from './Icons';\nimport {\n  clickAppendButton,\n  clickEditButton,\n  clickHelpButton,\n  clickViewButton,\n} from '../lib/clickButton';\n\ninterface IntroProps {\n  appendMode: boolean;\n  editMode: boolean;\n  showHelp: boolean;\n}\n\nconst Intro: React.FC<IntroProps> = ({ appendMode, editMode, showHelp }) => (\n  <div id=\"intro\">\n    <details>\n      <summary>\n        Welcome to the Append Editor!{' '}\n        <span role=\"img\" aria-label=\"wave emoji\">\n          👋\n        </span>{' '}\n        Your note is empty.{' '}\n        <span role=\"img\" aria-label=\"smile emoji\">\n          🙂\n        </span>{' '}\n        Click here to get started.{' '}\n        <span role=\"img\" aria-label=\"memo emoji\">\n          📝\n        </span>\n      </summary>\n      <p>To get started:</p>\n      <ul>\n        <li>\n          <p>\n            Click the Pencil\n            <button\n              className=\"inline-text-and-svg\"\n              onClick={clickEditButton}\n              title=\"Toggle Edit Mode\"\n            >\n              <span>&nbsp;</span>\n              <PencilIcon condition={editMode} role=\"button\" />\n              <span>&nbsp;</span>\n            </button>\n            to toggle <b>Edit Mode</b>\n          </p>\n        </li>\n        <li>\n          <p>\n            Click the Plus\n            <button\n              className=\"inline-text-and-svg\"\n              onClick={clickAppendButton}\n              title=\"Toggle Append Mode\"\n            >\n              <span>&nbsp;</span>\n              <PlusIcon condition={appendMode} role=\"button\" />\n              <span>&nbsp;</span>\n            </button>\n            to toggle <b>Append Mode</b>\n          </p>\n        </li>\n      </ul>\n      <p>\n        <b>View Mode</b> is currently <b>on</b>. When you type in{' '}\n        <b>Edit Mode</b>, your note will automatically render here. In{' '}\n        <b>Append Mode</b>, clicking <b>Append</b> will add the text in the\n        textarea to the end of your note. Click the Eye\n        <button\n          className=\"inline-text-and-svg\"\n          onClick={clickViewButton}\n          title=\"Toggle View Mode\"\n        >\n          <span>&nbsp;</span>\n          <EyeIcon condition={true} role=\"button\" />\n          <span>&nbsp;</span>\n        </button>\n        to turn View Mode off and switch to <b>Edit Only Mode</b>.\n      </p>\n      <p>\n        If you are using the demo at{' '}\n        <a\n          href=\"https://beta.appendeditor.com\"\n          target=\"_blank\"\n          rel=\"nofollow noreferrer noopener\"\n        >\n          beta.appendeditor.com\n        </a>\n        , then your notes will be lost after you close the page.\n      </p>\n      <p>\n        If you want to save your notes, then click Help\n        <button\n          className=\"inline-text-and-svg\"\n          onClick={clickHelpButton}\n          title=\"Toggle show Help\"\n        >\n          <span>&nbsp;</span>\n          <HelpIcon condition={showHelp} role=\"button\" />\n          <span>&nbsp;</span>\n        </button>\n        and follow the instructions on how to install the Append Editor in{' '}\n        <a\n          href=\"https://standardnotes.org/\"\n          target=\"_blank\"\n          rel=\"nofollow noreferrer noopener\"\n        >\n          Standard Notes\n        </a>\n        , a free,{' '}\n        <a\n          href=\"https://standardnotes.org/knowledge/5/what-is-free-and-open-source-software\"\n          target=\"_blank\"\n          rel=\"nofollow noreferrer noopener\"\n        >\n          open-source\n        </a>\n        , and{' '}\n        <a\n          href=\"https://standardnotes.org/knowledge/2/what-is-end-to-end-encryption\"\n          target=\"_blank\"\n          rel=\"nofollow noreferrer noopener\"\n        >\n          end-to-end encrypted\n        </a>{' '}\n        notes app.\n      </p>\n      <p>\n        If you like Standard Notes, please check out Standard Notes{' '}\n        <a\n          href=\"https://standardnotes.org/extensions\"\n          target=\"_blank\"\n          rel=\"nofollow noreferrer noopener\"\n        >\n          Extended\n        </a>{' '}\n        for more editors, themes, components, and methods to backup up your\n        data.\n      </p>\n      <p>\n        Happy note-taking!{' '}\n        <span role=\"img\" aria-label=\"smile emoji\">\n          😄\n        </span>\n      </p>\n    </details>\n  </div>\n);\n\nexport default Intro;\n","import React, { ReactNode } from 'react';\nimport unified from 'unified';\nimport parse from 'remark-parse';\nimport remark2rehype from 'remark-rehype';\nimport rehype2react from 'rehype-react';\nimport { debounce, throttle } from 'lodash';\n\nconst gfm = require('remark-gfm');\nconst breaks = require('remark-breaks');\nconst math = require('remark-math');\nconst rehypeKatex = require('rehype-katex');\nconst highlight = require('rehype-highlight');\nconst emoji = require('remark-emoji');\nconst externalLinks = require('remark-external-links');\nconst toc = require('remark-toc');\nconst footnotes = require('remark-footnotes');\nconst slug = require('remark-slug');\nconst raw = require('rehype-raw');\n\nconst processor = unified()\n  .use(parse)\n  .use(gfm)\n  .use(breaks)\n  .use(slug)\n  .use(toc, { maxDepth: 6 })\n  .use(externalLinks)\n  .use(footnotes, { inlineNotes: true })\n  .use(remark2rehype, { allowDangerousHtml: true })\n  .use(raw)\n  .use(math)\n  .use(rehypeKatex)\n  .use(highlight, { ignoreMissing: true })\n  .use(emoji)\n  .use(rehype2react, { createElement: React.createElement });\n\nexport const processMarkdown = (text: string) => {\n  const markdown = processor.processSync(text).result as ReactNode;\n  return markdown;\n};\n\n/** Throttle instead of debounce because\n * we want it to work even when typing\n * lots of characters in a short amount of time. */\nexport const isLongString = throttle((text: string) => {\n  //console.log('length', text.length);\n  if (text.length > 10000) {\n    return true;\n  } else {\n    return false;\n  }\n}, 1000);\n\n/** Debounce the rendering of long notes to prevent lagging.\n * There is no max on the debounce to prevent lagging\n * even for very, very long notes */\nexport const renderLongMarkdown = debounce((text: string) => {\n  //console.log('renderLongMarkdownText');\n  const markdown = processMarkdown(text);\n  return markdown;\n}, 500);\n\nexport const renderMarkdown = (text: string, bypassDebounce: boolean) => {\n  if (bypassDebounce) {\n    //console.log('renderBypassDebounceText');\n    const markdown = processMarkdown(text);\n    return markdown;\n  }\n  let textIsLong = false as boolean | undefined;\n  textIsLong = isLongString(text);\n  //console.log('textIsLong', textIsLong);\n  if (textIsLong) {\n    return renderLongMarkdown(text);\n  } else {\n    //console.log('renderShortMarkdownText');\n    const markdown = processMarkdown(text);\n    return markdown;\n  }\n};\n","import React from 'react';\nimport { EditingModes, HtmlElementId } from './AppendEditor';\nimport DynamicEditor from './DynamicEditor';\nimport Help from './Help';\nimport Intro from './Intro';\nimport { renderMarkdown } from '../lib/renderMarkdown';\n\ninterface ViewProps {\n  appendMode: boolean;\n  bypassDebounce: boolean;\n  debugMode: boolean;\n  editMode: boolean;\n  editingMode?: string;\n  monacoEditorLanguage: string;\n  printURL: boolean;\n  saveText: (text: string) => void;\n  showHelp: boolean;\n  text: string;\n}\n\ninterface ViewState {\n  showHelp: boolean;\n}\n\nexport default class ViewNote extends React.Component<ViewProps, ViewState> {\n  constructor(props: ViewProps) {\n    super(props);\n\n    this.state = {\n      showHelp: this.props.showHelp,\n    };\n  }\n\n  onToggleShowHelp = () => {\n    const helpButton = document.getElementById('helpButton');\n    if (helpButton) {\n      helpButton.click();\n    }\n  };\n\n  renderMarkdown = (text: string) => {\n    const markdown = renderMarkdown(text, this.props.bypassDebounce);\n    return markdown;\n  };\n\n  render() {\n    const { text } = this.props;\n    return (\n      <div\n        className={\n          'sk-panel main view' + (this.props.printURL ? ' printURL' : '')\n        }\n      >\n        <div className=\"sk-panel-content view\" id={HtmlElementId.view}>\n          {!text && [\n            <Intro\n              appendMode={this.props.appendMode}\n              editMode={this.props.editMode}\n              showHelp={this.props.showHelp}\n            />,\n          ]}\n          {this.state.showHelp && [\n            <Help\n              debugMode={this.props.debugMode}\n              printURL={this.props.printURL}\n            />,\n          ]}\n          <div\n            id=\"renderedNote\"\n            className={\n              '' +\n              (this.props.editingMode === EditingModes.useDynamicEditor\n                ? ''\n                : 'rendered-note-section')\n            }\n          >\n            {this.props.editingMode === EditingModes.useMonacoEditor &&\n            this.props.monacoEditorLanguage !== 'markdown' &&\n            this.props.monacoEditorLanguage !== 'html' &&\n            text ? (\n              this.renderMarkdown(\n                '```' + this.props.monacoEditorLanguage + '\\n' + text + '\\n```'\n              )\n            ) : this.props.editingMode === EditingModes.useDynamicEditor ? (\n              <DynamicEditor\n                debugMode={this.props.debugMode}\n                onChange={this.props.saveText}\n                readOnly={true}\n                text={text}\n              />\n            ) : (\n              this.renderMarkdown(text)\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { EditingModes } from './AppendEditor';\nimport DynamicEditor from './DynamicEditor';\nimport { MonacoEditor } from './Monaco';\n\nimport { HtmlElementId } from './AppendEditor';\n\ninterface AppendProps {\n  appendNewLine: boolean;\n  appendNewParagraph: boolean;\n  appendRows: number;\n  appendTextToNote: Function;\n  editingMode?: string;\n  fontSize: string;\n  keyMap: Map<any, any>;\n  debugMode: boolean;\n  autoSaveAppendText: Function;\n  autoSaveCheckBoxes: Function;\n  monacoEditorLanguage: string;\n  onKeyDown: Function;\n  onKeyUp: Function;\n  onKeyDownAppendTextArea: Function;\n  onKeyDownTextArea: Function;\n  text: string;\n}\n\ninterface AppendState {\n  text: string;\n  newLine: boolean;\n  newParagraph: boolean;\n  [x: string]: string | boolean;\n}\n\nexport default class AppendText extends React.Component<\n  AppendProps,\n  AppendState\n> {\n  static defaultProps = {\n    // none\n  };\n\n  constructor(props: AppendProps) {\n    super(props);\n\n    this.state = {\n      text: this.props.text,\n      newLine: this.props.appendNewLine,\n      newParagraph: this.props.appendNewParagraph,\n      useMonacoEditor: this.props.editingMode === EditingModes.useMonacoEditor,\n      useDynamicEditor:\n        this.props.editingMode === EditingModes.useDynamicEditor,\n    };\n  }\n\n  handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        // This callback saves the checkboxes\n        this.autoSaveCheckBoxes();\n      }\n    );\n  };\n\n  // This is an almost duplicate of the above editor. Here we don't save the checkboxes to improve performance\n  handleTextAreaChange = (event: any) => {\n    const target = event.target;\n    const value = target.value;\n    this.setState(\n      {\n        text: value,\n      },\n      () => {\n        // This callback saves the append text\n        this.autoSaveAppendText();\n      }\n    );\n  };\n\n  saveText = (text: string) => {\n    this.setState(\n      {\n        text,\n      },\n      () => {\n        this.props.autoSaveAppendText(this.state.text);\n      }\n    );\n  };\n\n  appendTextToNote = () => {\n    this.props.appendTextToNote();\n    this.setState({\n      text: '',\n    });\n    const appendTextArea = document.getElementById(\n      HtmlElementId.appendTextArea\n    );\n    if (appendTextArea) {\n      appendTextArea.focus();\n    }\n    // Refresh Monaco Editor after appending text to note\n    if (this.state.useMonacoEditor) {\n      this.setState(\n        {\n          useMonacoEditor: false,\n        },\n        () => {\n          this.setState({\n            useMonacoEditor: true,\n          });\n        }\n      );\n    }\n    // Refresh Dynamic Editor after appending text to note\n    if (this.state.useDynamicEditor) {\n      this.setState(\n        {\n          useDynamicEditor: false,\n        },\n        () => {\n          this.setState({\n            useDynamicEditor: true,\n          });\n        }\n      );\n    }\n  };\n\n  autoSaveAppendText = () => {\n    const text = this.state.text;\n    this.props.autoSaveAppendText(text);\n  };\n\n  autoSaveCheckBoxes = () => {\n    const newLine = this.state.newLine;\n    const newParagraph = this.state.newParagraph;\n    this.props.autoSaveCheckBoxes(newLine, newParagraph);\n  };\n\n  onKeyDown = (e: React.KeyboardEvent) => {\n    this.props.keyMap.set(e.key, true);\n    if (this.props.debugMode) {\n      console.log(\n        'Keys pressed: ' +\n          e.key +\n          'KeyMap for key: ' +\n          this.props.keyMap.get(e.key)\n      );\n      console.log('Append Text Value: ' + this.state.text);\n    }\n\n    this.props.onKeyDown(e);\n    this.props.onKeyDownAppendTextArea(e);\n    this.props.onKeyDownTextArea(e);\n    // Append Text if Ctrl and 'Enter' are pressed\n    if (this.props.keyMap.get('Control') && this.props.keyMap.get('Enter')) {\n      e.preventDefault();\n      this.appendTextToNote();\n    }\n    // Append Text if Ctrl and 's' are pressed\n    else if (this.props.keyMap.get('Control') && this.props.keyMap.get('s')) {\n      e.preventDefault();\n      this.appendTextToNote();\n    }\n  };\n\n  onKeyUp = (event: React.KeyboardEvent) => {\n    this.props.keyMap.delete(event.key);\n    this.props.onKeyUp(event);\n  };\n\n  render() {\n    const { text } = this.state;\n\n    return (\n      <div\n        className={\n          'sk-panel main appendix ' +\n          (this.props.editingMode === EditingModes.useMonacoEditor\n            ? 'monacoEditor'\n            : this.props.editingMode === EditingModes.useDynamicEditor\n            ? 'dynamicEditor'\n            : 'otherEditor')\n        }\n      >\n        <div\n          className={\n            'sk-panel-content edit ' +\n            (this.props.editingMode === EditingModes.useMonacoEditor\n              ? 'monacoEditor'\n              : '')\n          }\n        >\n          {this.state.useMonacoEditor ? (\n            // We use this.state instead of this.props so we can easily refresh it on Append\n            <MonacoEditor\n              fontSize={this.props.fontSize}\n              language={this.props.monacoEditorLanguage}\n              saveText={this.saveText}\n              text={text}\n            />\n          ) : this.state.useDynamicEditor ? (\n            <div id=\"appendDynamicEditor\">\n              <DynamicEditor\n                debugMode={this.props.debugMode}\n                onChange={this.saveText}\n                readOnly={false}\n                text={text}\n              />\n            </div>\n          ) : (\n            <textarea\n              id={HtmlElementId.appendTextArea}\n              name=\"text\"\n              className=\"sk-input contrast textarea append\"\n              placeholder=\"Append to your note\"\n              rows={this.props.appendRows}\n              spellCheck=\"true\"\n              value={text}\n              onChange={this.handleTextAreaChange}\n              onKeyDown={this.onKeyDown}\n              onKeyUp={this.onKeyUp}\n            />\n          )}\n        </div>\n        <div className=\"sk-panel-row\">\n          <form className=\"checkBoxForm\">\n            <label>\n              <input\n                id={HtmlElementId.newLine}\n                name=\"newLine\"\n                type=\"checkbox\"\n                checked={this.state.newLine}\n                onChange={this.handleInputChange}\n              />\n              New Line\n            </label>\n            <br />\n            <label>\n              <input\n                id={HtmlElementId.newParagraph}\n                name=\"newParagraph\"\n                type=\"checkbox\"\n                checked={this.state.newParagraph}\n                onChange={this.handleInputChange}\n              />\n              New Paragraph\n            </label>\n          </form>\n          <div className=\"sk-button-group stretch\">\n            <button\n              type=\"button\"\n              id=\"appendTextButton\"\n              onClick={this.appendTextToNote}\n              className=\"sk-button info\"\n            >\n              <div>Append</div>\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  ChevronIconDown,\n  ChevronIconRight,\n  CopyIcon,\n  EyeIcon,\n  PencilIcon,\n  PrintIcon,\n  UndoIcon,\n} from './Icons';\n\ninterface ActionButtonTypes {\n  caption?: string;\n  className?: string;\n  fill?: string;\n  id?: string;\n  title: string;\n  onClick: () => void;\n}\n\ninterface ConditionalButtonTypes extends ActionButtonTypes {\n  condition?: boolean | undefined;\n  messageOn?: string;\n  messageOff?: string;\n}\n\nexport const ChevronToggleButton: React.FC<ConditionalButtonTypes> = ({\n  caption,\n  className,\n  condition,\n  onClick,\n  title,\n}) => (\n  <button className={className} onClick={onClick} title={title}>\n    {condition ? (\n      <ChevronIconDown role=\"button\" />\n    ) : (\n      <ChevronIconRight role=\"button\" />\n    )}\n    <p className={'chevron-button-caption'}>{caption}</p>\n  </button>\n);\n\nexport const CopyButton: React.FC<ActionButtonTypes> = ({\n  caption,\n  className,\n  fill,\n  onClick,\n  title,\n}) => (\n  <button className={className} onClick={onClick} title={title}>\n    <CopyIcon fill={fill} role={'button'} />\n    <span className=\"button-caption\">{caption}</span>\n  </button>\n);\n\nexport const EyeButton: React.FC<ConditionalButtonTypes> = ({\n  caption,\n  className,\n  condition,\n  messageOn,\n  messageOff,\n  onClick,\n  title,\n}) => (\n  <button className={className} onClick={onClick} title={title}>\n    <EyeIcon condition={condition} role={'button'} />\n    <span className=\"button-caption\">\n      {caption}:<b>&nbsp;{condition ? messageOn : messageOff}</b>\n    </span>\n  </button>\n);\n\nexport const PencilButton: React.FC<ActionButtonTypes> = ({\n  caption,\n  className,\n  fill,\n  onClick,\n  title,\n}) => (\n  <button className={className} onClick={onClick} title={title}>\n    <PencilIcon fill={fill} role={'button'} />\n    <span className=\"button-caption\">{caption}</span>\n  </button>\n);\n\nexport const PrintButton: React.FC<ActionButtonTypes> = ({\n  caption,\n  className,\n  fill,\n  id,\n  onClick,\n  title,\n}) => (\n  <button className={className} id={id} onClick={onClick} title={title}>\n    <PrintIcon fill={fill} role={'button'} />\n    <span className=\"button-caption\">{caption}</span>\n  </button>\n);\n\nexport const UndoButton: React.FC<ActionButtonTypes> = ({\n  className,\n  fill,\n  id,\n  onClick,\n  title,\n}) => (\n  <button className={className} id={id} onClick={onClick} title={title}>\n    <UndoIcon fill={fill} role={'button'} />\n  </button>\n);\n","import React from 'react';\nimport prettier from 'prettier';\nimport parserMarkdown from 'prettier/parser-markdown';\nimport { EditingModes } from './AppendEditor';\nimport {\n  ChevronToggleButton,\n  CopyButton,\n  EyeButton,\n  PencilButton,\n  PrintButton,\n} from './Buttons';\n\n// Import types\nimport { HtmlElementId } from './AppendEditor';\n\nenum HtmlClassName {\n  chevronToggleButton = 'menu-button chevron-toggle-button',\n  menuButton = 'menu-button',\n  on = ' on',\n  off = ' off',\n}\n\ninterface MenuProps {\n  borderlessMode?: boolean;\n  editingMode?: string;\n  fixedHeightMode?: boolean;\n  fullWidthMode?: boolean;\n  monacoEditorLanguage: string;\n  onConfirmPrintUrl: () => void;\n  overflowMode?: boolean;\n  refreshEdit: () => void;\n  refreshView: () => void;\n  saveText: (text: string) => void;\n  showMenuOptionsEdit?: boolean;\n  //showMenuOptionsMonacoEditor?: boolean;\n  showMenuOptionsShare?: boolean;\n  showMenuOptionsView?: boolean;\n  text: string;\n  toggleBorderlessMode: () => void;\n  toggleFixedHeightMode: () => void;\n  toggleFullWidthMode: () => void;\n  toggleOverflowMode: () => void;\n  toggleShowMenu: () => void;\n  toggleShowMenuOptionsEdit: () => void;\n  //toggleShowMenuOptionsMonacoEditor?: () => void;\n  toggleShowMenuOptionsView: () => void;\n  toggleShowMenuOptionsShare: () => void;\n  viewMode?: boolean;\n}\n\ninterface MenuState {\n  message?: string;\n  displayMessageShare: boolean;\n  displayMessageEdit: boolean;\n}\n\nexport default class Menu extends React.Component<MenuProps, MenuState> {\n  clearTooltipTimer: NodeJS.Timeout | undefined;\n  constructor(props: MenuProps) {\n    super(props);\n    this.state = {\n      message: '',\n      displayMessageEdit: false,\n      displayMessageShare: false,\n    };\n  }\n\n  resetMessageTimer = () => {\n    if (this.clearTooltipTimer) {\n      clearTimeout(this.clearTooltipTimer);\n    }\n    this.clearTooltipTimer = setTimeout(() => {\n      this.setState({\n        displayMessageEdit: false,\n        displayMessageShare: false,\n      });\n    }, 5000);\n  };\n\n  showMessageEdit = () => {\n    this.setState(\n      {\n        displayMessageEdit: true,\n        displayMessageShare: false,\n      },\n      () => {\n        this.resetMessageTimer();\n      }\n    );\n  };\n  showMessageShare = () => {\n    this.setState(\n      {\n        displayMessageEdit: false,\n        displayMessageShare: true,\n      },\n      () => {\n        this.resetMessageTimer();\n      }\n    );\n  };\n\n  copyToClipboard = (text: string) => {\n    const textField = document.createElement('textarea');\n    textField.value = text;\n    document.body.appendChild(textField);\n    textField.select();\n    document.execCommand('copy');\n    this.showMessageShare();\n    textField.remove();\n  };\n\n  copyText = () => {\n    if (this.props.text) {\n      this.setState({ message: 'Copied Text to clipboard' }, () => {\n        this.copyToClipboard(this.props.text);\n      });\n    } else {\n      this.setState({ message: 'No text to copy. Your note is empty' }, () => {\n        this.showMessageShare();\n      });\n    }\n  };\n\n  copyHtml = () => {\n    if (!this.props.viewMode) {\n      this.setState(\n        { message: 'Unable to copy HTML. Please turn View Mode on' },\n        () => this.showMessageShare()\n      );\n    } else if (!this.props.text) {\n      this.setState({ message: 'No HTML to copy. Your note is empty' }, () => {\n        this.showMessageShare();\n      });\n    } else {\n      const renderedNote = document.getElementById('renderedNote');\n      if (renderedNote?.firstElementChild?.innerHTML) {\n        this.setState({ message: 'Copied HTML to clipboard' });\n        this.copyToClipboard(renderedNote?.firstElementChild.innerHTML);\n      }\n    }\n  };\n\n  formatText = () => {\n    if (\n      this.props.monacoEditorLanguage !== 'markdown' &&\n      this.props.editingMode === EditingModes.useMonacoEditor\n    ) {\n      this.setState(\n        {\n          message:\n            'Error: Your Monaco Editor language is not Markdown. Formatting is only available for Markdown',\n        },\n        () => {\n          this.showMessageEdit();\n        }\n      );\n    } else if (this.props.text) {\n      this.setState(\n        { message: 'Formatted Markdown text with Prettier' },\n        () => {\n          try {\n            const formattedText = prettier.format(this.props.text, {\n              parser: 'markdown',\n              plugins: [parserMarkdown],\n            });\n            this.props.saveText(formattedText);\n            this.props.refreshEdit();\n            this.props.refreshView();\n            this.showMessageEdit();\n          } catch (e) {\n            this.setState({ message: 'Error formatting text: ' + e }, () => {\n              this.showMessageEdit();\n            });\n            console.log('Error formatting text: ' + e);\n          }\n        }\n      );\n    } else {\n      this.setState(\n        { message: 'No text to format. Your note is empty' },\n        () => {\n          this.showMessageEdit();\n        }\n      );\n    }\n  };\n\n  uncheckBoxes = () => {\n    const { text } = this.props;\n    const checkedBoxes = new RegExp(/- \\[x\\]/gm);\n    if (checkedBoxes.test(text)) {\n      const newText = text.replace(checkedBoxes, '- [ ]');\n      this.props.saveText(newText);\n      this.props.refreshEdit();\n      this.props.refreshView();\n      this.setState({ message: 'Unchecked all checkboxes' }, () => {\n        this.showMessageEdit();\n      });\n    } else {\n      this.setState({ message: 'No checked checkboxes found' }, () => {\n        this.showMessageEdit();\n      });\n    }\n  };\n\n  render() {\n    // You can render any custom fallback UI\n    return [\n      <div className=\"menu-overlay\" onClick={this.props.toggleShowMenu} />,\n      <div id={'menu'}>\n        <ChevronToggleButton\n          caption={'Appearance'}\n          className={HtmlClassName.chevronToggleButton}\n          condition={this.props.showMenuOptionsView}\n          onClick={this.props.toggleShowMenuOptionsView}\n          title={'Toggle show options for the appearance of the editor'}\n        />\n        {this.props.showMenuOptionsView && [\n          <EyeButton\n            caption={'Borderless'}\n            className={\n              HtmlClassName.menuButton +\n              (this.props.borderlessMode ? HtmlClassName.on : HtmlClassName.off)\n            }\n            condition={this.props.borderlessMode}\n            messageOn={'on'}\n            messageOff={'off'}\n            onClick={this.props.toggleBorderlessMode}\n            title={\n              'Toggle Borderless Mode. Blends borders and margins into the background for a cleaner look'\n            }\n          />,\n          <EyeButton\n            caption={'Fixed Height'}\n            className={\n              HtmlClassName.menuButton +\n              (this.props.fixedHeightMode\n                ? HtmlClassName.on\n                : HtmlClassName.off)\n            }\n            condition={this.props.fixedHeightMode}\n            messageOn={'on'}\n            messageOff={'off'}\n            onClick={this.props.toggleFixedHeightMode}\n            title={\n              'Toggle Fixed Height Mode. Limits the height of the content container for easier side-by-side editing'\n            }\n          />,\n          <EyeButton\n            caption={'Full Width'}\n            className={\n              HtmlClassName.menuButton +\n              (this.props.fullWidthMode ? HtmlClassName.on : HtmlClassName.off)\n            }\n            condition={this.props.fullWidthMode}\n            messageOn={'on'}\n            messageOff={'off'}\n            onClick={this.props.toggleFullWidthMode}\n            title={\n              'Toggle Full Width Mode for unrestricted editing. Borderless mode plus unset maximum container widths'\n            }\n          />,\n          <EyeButton\n            caption={'Horizontal Overflow'}\n            className={\n              HtmlClassName.menuButton +\n              (this.props.overflowMode ? HtmlClassName.on : HtmlClassName.off)\n            }\n            condition={this.props.overflowMode}\n            messageOn={'visible'}\n            messageOff={'auto'}\n            onClick={this.props.toggleOverflowMode}\n            title={\n              'Toggle Horizontal Overflow. Visible is great for editing and viewing large tables and preformatted text. Works best with Full Width mode'\n            }\n          />,\n        ]}\n        <ChevronToggleButton\n          caption={'Share'}\n          className={HtmlClassName.chevronToggleButton}\n          condition={this.props.showMenuOptionsShare}\n          onClick={this.props.toggleShowMenuOptionsShare}\n          title={'Toggle show options to share your note'}\n        />\n        {this.props.showMenuOptionsShare && [\n          <CopyButton\n            caption={'Copy note text'}\n            className={HtmlClassName.menuButton}\n            fill={'var(--sn-stylekit-success-color)'}\n            onClick={this.copyText}\n            title={\"Copy the text of your note to your device's clipboard\"}\n          />,\n          <CopyButton\n            caption={'Copy rendered HTML'}\n            className={HtmlClassName.menuButton}\n            fill={'var(--sn-stylekit-success-color)'}\n            onClick={this.copyHtml}\n            title={\n              \"Copy the rendered HTML from your note text to your device's clipboard\"\n            }\n          />,\n          <PrintButton\n            caption={'Print rendered note'}\n            className={'menu-button off'}\n            fill={'var(--sn-stylekit-foreground-color)'}\n            id={HtmlElementId.printButton}\n            onClick={this.props.onConfirmPrintUrl}\n            title={\n              'Print rendered note. Works best on the web app in Chromium browsers (e.g., MS Edge, Google Chrome). Not available on mobile'\n            }\n          />,\n          <div\n            className={`notification ${\n              this.state.displayMessageShare ? 'visible' : 'hidden'\n            }`}\n          >\n            <p>\n              <b>{this.state.message}</b>\n            </p>\n          </div>,\n        ]}\n        <ChevronToggleButton\n          caption={'Actions'}\n          className={HtmlClassName.chevronToggleButton}\n          condition={this.props.showMenuOptionsEdit}\n          onClick={this.props.toggleShowMenuOptionsEdit}\n          title={'Toggle show actions to quickly format and edit your note'}\n        />\n        {this.props.showMenuOptionsEdit && [\n          <PencilButton\n            caption={'Format Markdown text'}\n            className={HtmlClassName.menuButton}\n            fill={'var(--sn-stylekit-warning-color)'}\n            onClick={this.formatText}\n            title={\n              'Format Markdown text with Prettier. WARNING: this may cause undesired changes to your note text. Use the Note History feature to revert unwanted changes'\n            }\n          />,\n          <PencilButton\n            caption={'Uncheck all checkboxes'}\n            className={HtmlClassName.menuButton}\n            fill={'var(--sn-stylekit-danger-color)'}\n            onClick={this.uncheckBoxes}\n            title={\n              'Uncheck all checkboxes. DANGER: this may cause undesired changes to your note text. Use the Note History feature to revert unwanted changes'\n            }\n          />,\n          <div\n            className={`notification ${\n              this.state.displayMessageEdit ? 'visible' : 'hidden'\n            }`}\n          >\n            <p>\n              <b>{this.state.message}</b>\n            </p>\n          </div>,\n        ]}\n        <div className=\"extra-space\"></div>\n      </div>,\n    ];\n  }\n}\n","import React from 'react';\nimport { MonacoEditor } from './Monaco';\nimport {\n  DefaultSettings,\n  EditingModes,\n  SaveSettingsInterface,\n} from './AppendEditor';\nimport { CloseIcon, RefreshIcon } from './Icons';\nimport { ChevronToggleButton, UndoButton } from './Buttons';\n\nconst customStylesID = 'customStyles';\nconst editingModeID = 'editingMode';\nconst fontEditID = 'fontEdit';\nconst fontSizeID = 'fontSize';\nconst fontViewID = 'fontView';\nconst monacoEditorLanguageID = 'monacoEditorLanguage';\nconst resetAllSettingsID = 'resetAllSettings';\nconst saveAsDefaultID = 'saveAsDefault';\n\ninterface SettingsProps {\n  defaultSettings: DefaultSettings;\n  customStyles: string;\n  editingMode?: string;\n  fontEdit: string;\n  fontSize: string;\n  fontView: string;\n  monacoEditorLanguage: string;\n  cancelText: string;\n  confirmText: string;\n  debugMode: boolean;\n  keyMap: Map<any, any>;\n  onCancel: () => void;\n  onConfirm: (object: SaveSettingsInterface) => void;\n  title: string;\n  helpLink: string;\n}\n\ninterface SettingsState {\n  customStyles: string;\n  editingMode: string;\n  fontEdit: string;\n  fontSize: string;\n  fontView: string;\n  monacoEditorLanguage: string;\n  saveAsDefault: boolean;\n  showCustomStyles: boolean;\n  [x: string]: string | boolean;\n}\n\nconst startRegExp = new RegExp(/```css\\n/gm);\nconst cssRegExp = new RegExp(/```css/gm);\nconst endRegExp = new RegExp(/\\n```/gm);\nconst codeRegExp = new RegExp(/```/gm);\n\nexport default class Settings extends React.Component<\n  SettingsProps,\n  SettingsState\n> {\n  constructor(props: SettingsProps) {\n    super(props);\n    let monacoEditorLanguage = 'markdown';\n    if (this.props.monacoEditorLanguage) {\n      monacoEditorLanguage = this.props.monacoEditorLanguage;\n    }\n    let editingMode = 'usePlainText';\n    if (this.props.editingMode) {\n      editingMode = this.props.editingMode;\n    }\n    this.state = {\n      customStyles: this.props.customStyles,\n      editingMode,\n      fontEdit: this.props.fontEdit,\n      fontSize: this.props.fontSize,\n      fontView: this.props.fontView,\n      monacoEditorLanguage,\n      saveAsDefault: false,\n      showCustomStyles: false, // false by default for a mobile-first experience\n    };\n  }\n\n  handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value,\n    });\n    if (this.props.debugMode) {\n      console.log(\n        'Settings event name: ' +\n          event.target.name +\n          ' Value: ' +\n          event.target.value\n      );\n    }\n  };\n\n  handleSelectChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        if (this.props.debugMode) {\n          console.log(\n            'Saved select. Name: ' +\n              event.target.name +\n              ' Value: ' +\n              event.target.value\n          );\n        }\n      }\n    );\n  };\n\n  toggleShowCustomStyles = () => {\n    this.setState({\n      showCustomStyles: !this.state.showCustomStyles,\n    });\n  };\n\n  cleanCustomStyles = (text: string) => {\n    if (text) {\n      return text\n        .replace(startRegExp, '')\n        .replace(cssRegExp, '')\n        .replace(endRegExp, '')\n        .replace(codeRegExp, '');\n    } else {\n      return text;\n    }\n  };\n\n  saveText = (text: string) => {\n    this.setState({\n      customStyles: text,\n    });\n  };\n\n  handleSubmit = () => {\n    if (this.props.debugMode) {\n      let fontEditMessage = '';\n      let fontViewMessage = '';\n      if (this.state.fontEdit === '' || this.state.fontEdit === undefined) {\n        fontEditMessage = 'Default';\n      } else if (this.state.fontEdit) {\n        fontEditMessage = this.state.fontEdit;\n      }\n      if (this.state.fontView === '' || this.state.fontView === undefined) {\n        fontViewMessage = 'Default';\n      } else if (this.state.fontView) {\n        fontViewMessage = this.state.fontView;\n      }\n      console.log(\n        'Settings.tsx handleSubmit() triggered: ' +\n          '\\n  - Settings editingMode: ' +\n          this.state.editingMode +\n          '\\n  - Settings fontEdit: ' +\n          this.state.fontEdit +\n          '\\n  - Settings fontView: ' +\n          this.state.fontView +\n          '\\n  - Your chosen font for Edit/Append is: ' +\n          fontEditMessage +\n          '\\n  - Your chosen font for View/Print is: ' +\n          fontViewMessage +\n          '\\n'\n      );\n    }\n    this.setState(\n      {\n        // clean the custom styles prior to saving them\n        customStyles: this.cleanCustomStyles(this.state.customStyles),\n      },\n      () => {\n        if (this.props.debugMode) {\n          console.log('Your custom styles: ' + this.state.customStyles);\n        }\n        const {\n          customStyles,\n          editingMode,\n          fontEdit,\n          fontSize,\n          fontView,\n          monacoEditorLanguage,\n          saveAsDefault,\n        } = this.state;\n        this.props.onConfirm({\n          customStyles,\n          editingMode,\n          fontEdit,\n          fontSize,\n          fontView,\n          monacoEditorLanguage,\n          saveAsDefault,\n        });\n      }\n    );\n  };\n\n  loadDefaultSettings = () => {\n    const defaultSettings = this.props.defaultSettings;\n    this.setState(\n      {\n        ...defaultSettings,\n      },\n      () => {\n        this.refreshCustomStyles();\n      }\n    );\n  };\n\n  refreshCustomStyles = () => {\n    this.setState(\n      {\n        showCustomStyles: !this.state.showCustomStyles,\n      },\n      () => {\n        this.setState({\n          showCustomStyles: !this.state.showCustomStyles,\n        });\n      }\n    );\n  };\n\n  clearCustomStyles = () => {\n    this.setState(\n      {\n        customStyles: '',\n      },\n      () => {\n        this.refreshCustomStyles();\n        if (this.props.debugMode) {\n          console.log('customStyles reset: ' + this.state.customStyles);\n        }\n      }\n    );\n    const customStyles = document.getElementById(\n      customStylesID\n    ) as HTMLTextAreaElement;\n    if (customStyles) {\n      customStyles.value = '';\n      customStyles.focus();\n    }\n  };\n\n  clearFontEdit = () => {\n    this.setState({\n      fontEdit: '',\n    });\n    const fontEdit = document.getElementById(fontEditID) as HTMLTextAreaElement;\n    if (fontEdit) {\n      fontEdit.value = '';\n      fontEdit.focus();\n    }\n  };\n\n  clearFontSize = () => {\n    this.setState({\n      fontSize: '',\n    });\n    const fontSize = document.getElementById(fontSizeID) as HTMLSelectElement;\n    if (fontSize) {\n      fontSize.value = '';\n      fontSize.focus();\n    }\n  };\n\n  clearFontView = () => {\n    this.setState({\n      fontView: '',\n    });\n    const fontView = document.getElementById(fontViewID) as HTMLTextAreaElement;\n    if (fontView) {\n      fontView.value = '';\n      fontView.focus();\n    }\n  };\n\n  clearEditingMode = () => {\n    this.setState({\n      editingMode: EditingModes.usePlainText,\n    });\n  };\n\n  clearMonacoEditorLanguage = () => {\n    this.setState({\n      monacoEditorLanguage: 'markdown',\n    });\n    const monacoEditorLanguage = document.getElementById(\n      monacoEditorLanguageID\n    ) as HTMLSelectElement;\n    if (monacoEditorLanguage) {\n      monacoEditorLanguage.value = 'markdown';\n      monacoEditorLanguage.focus();\n    }\n  };\n\n  clearSaveAsDefault = () => {\n    this.setState({\n      saveAsDefault: false,\n    });\n    const saveAsDefault = document.getElementById(\n      saveAsDefaultID\n    ) as HTMLInputElement;\n    saveAsDefault.checked = false;\n    saveAsDefault.focus();\n  };\n\n  clearAllSettings = () => {\n    // We clear from bottom settings to top settings so the focus afterwards is on top\n    this.clearSaveAsDefault();\n    this.clearCustomStyles();\n    this.clearFontView();\n    this.clearFontEdit();\n    this.clearFontSize();\n    this.clearMonacoEditorLanguage();\n    this.clearEditingMode();\n    const resetAllSettings = document.getElementById(resetAllSettingsID);\n    if (resetAllSettings) {\n      resetAllSettings.focus();\n    }\n  };\n\n  onKeyDown = (e: React.KeyboardEvent) => {\n    this.props.keyMap.set(e.key, true);\n    //console.log(\"Keys pressed: \" + e.key + \"KeyMap for key: \" + keyMap.get(e.key)) + \"KeyMap for Shift: \" + keyMap.get('Shift');\n    // Save settings if Control and 's' are pressed\n    if (this.props.keyMap.get('Control') && this.props.keyMap.get('s')) {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n    // Save settings if Control and Enter are pressed\n    else if (\n      this.props.keyMap.get('Control') &&\n      this.props.keyMap.get('Enter')\n    ) {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  };\n\n  onKeyUp = (e: React.KeyboardEvent) => {\n    this.props.keyMap.set(e.key, false);\n  };\n\n  onBlur = (e: React.FocusEvent) => {\n    this.props.keyMap.clear();\n  };\n\n  componentWillUnmount = () => {\n    this.props.keyMap.clear();\n  };\n\n  render() {\n    //<h3>↶</h3>\n    const { title, onCancel, confirmText, cancelText, helpLink } = this.props;\n    return (\n      <div id=\"settings\" className=\"sk-panel main settings\">\n        <div className=\"sk-panel-content\">\n          <div className=\"sk-panel-section\">\n            <datalist id=\"fonts\">\n              <option\n                value={\n                  'SFMono-Regular, Consolas, Liberation Mono, Menlo, \"Ubuntu Mono\", courier, monospace;'\n                }\n              />\n              <option value=\"Times New Roman\" />\n              <option value=\"Arial\" />\n              <option value=\"Arial Black\" />\n              <option value=\"-apple-system\" />\n              <option value=\"Bell MT\" />\n              <option value=\"Baskerville Old Face\" />\n              <option value=\"Bahnschrift Light\" />\n              <option value=\"BlinkMacSystemFont\" />\n              <option value=\"Bodoni MT\" />\n              <option value=\"Calibri\" />\n              <option value=\"Calibri Light\" />\n              <option value=\"Calisto MT\" />\n              <option value=\"Cambria\" />\n              <option value=\"Candara\" />\n              <option value=\"Candara Light\" />\n              <option value=\"Cantarell\" />\n              <option value=\"Centaur\" />\n              <option value=\"Century\" />\n              <option value=\"Century Gothic\" />\n              <option value=\"Comic Sans MS\" />\n              <option value=\"Consolas\" />\n              <option value=\"Constantia\" />\n              <option value=\"Courier New\" />\n              <option value=\"Corbel\" />\n              <option value=\"Corbel Light\" />\n              <option value=\"DengXian\" />\n              <option value=\"Ebrima\" />\n              <option value=\"Droid Sans\" />\n              <option value=\"Fira Sans\" />\n              <option value=\"Gabriola\" />\n              <option value=\"Garamond\" />\n              <option value=\"Georgia\" />\n              <option value=\"Helvetica\" />\n              <option value=\"Helvetica Neue\" />\n              <option value=\"Impact\" />\n              <option value=\"KaTeX_AMS\" />\n              <option value=\"KaTeX_Caligraphic\" />\n              <option value=\"KaTeX_Fraktur\" />\n              <option value=\"KaTeX_Main\" />\n              <option value=\"KaTeX_Math\" />\n              <option value=\"KaTeX_SansSerif\" />\n              <option value=\"KaTeX_Script\" />\n              <option value=\"KaTeX_Typewriter\" />\n              <option value=\"Lato\" />\n              <option value=\"Liberation Mono\" />\n              <option value=\"Lucida Caligraphy\" />\n              <option value=\"Lucida Sans\" />\n              <option value=\"Menlo\" />\n              <option value=\"Monaco\" />\n              <option value=\"Monospace\" />\n              <option value=\"New York\" />\n              <option value=\"Oxygen\" />\n              <option value=\"Palatino\" />\n              <option value=\"Roboto\" />\n              <option value=\"Sans-Serif\" />\n              <option value=\"Segoe UI\" />\n              <option value=\"SFMono-Regular\" />\n              <option value=\"Serif\" />\n              <option value=\"Sylfaen\" />\n              <option value=\"Tahoma\" />\n              <option value=\"Times New Roman\" />\n              <option value=\"Trebuchet MS\" />\n              <option value=\"Ubuntu\" />\n              <option value=\"Verdana\" />\n              <option value=\"Yu Gothic\" />\n            </datalist>\n            <div className=\"sk-panel-row title-section\">\n              <h1>{title}</h1>\n              <button id=\"undoDialog\" onClick={onCancel} title=\"Close\">\n                <CloseIcon role=\"button\" />\n              </button>\n            </div>\n            <section className=\"sk-panel-row settings\">\n              <div className=\"text-and-undo-button\">\n                <p>\n                  Need help? Check out the{' '}\n                  <a href={helpLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                    documentation\n                  </a>\n                  . To clear all settings, click undo:&nbsp;\n                </p>\n                <UndoButton\n                  onClick={this.clearAllSettings}\n                  title=\"Reset all Settings\"\n                  id={resetAllSettingsID}\n                />\n              </div>\n            </section>\n            <section className=\"sk-panel-row settings\">\n              <div className=\"text-and-undo-button\">\n                <p>To load your personal default settings, click:&nbsp;</p>\n                <button\n                  onClick={this.loadDefaultSettings}\n                  title=\"Load personal default settings\"\n                >\n                  <RefreshIcon role=\"button\" />\n                </button>\n              </div>\n            </section>\n            <section className=\"sk-panel-row settings\">\n              <div className=\"text-and-undo-button\">\n                <p>Editing Mode: </p>\n                <UndoButton\n                  onClick={this.clearEditingMode}\n                  title=\"Reset Editing Mode to Plain Textarea\"\n                />\n              </div>\n            </section>\n            <section className=\"sk-panel-row settings\">\n              <label>\n                <input\n                  id={EditingModes.usePlainText}\n                  name={editingModeID}\n                  value={EditingModes.usePlainText}\n                  className=\"radio\"\n                  type=\"radio\"\n                  checked={this.state.editingMode === EditingModes.usePlainText}\n                  onChange={this.handleInputChange}\n                />\n                Plain Textarea: standard textarea with spellcheck (default,\n                mobile recommended)\n              </label>\n            </section>\n            <section className=\"sk-panel-row settings\">\n              <label>\n                <input\n                  id={EditingModes.useCodeMirror}\n                  name={editingModeID}\n                  value={EditingModes.useCodeMirror}\n                  type=\"radio\"\n                  className=\"radio\"\n                  checked={\n                    this.state.editingMode === EditingModes.useCodeMirror\n                  }\n                  onChange={this.handleInputChange}\n                />\n                CodeMirror: in-line formatting for Markdown\n              </label>\n            </section>\n            <section className=\"sk-panel-row settings\">\n              <label>\n                <input\n                  id={EditingModes.useDynamicEditor}\n                  name={editingModeID}\n                  value={EditingModes.useDynamicEditor}\n                  type=\"radio\"\n                  className=\"radio\"\n                  checked={\n                    this.state.editingMode === EditingModes.useDynamicEditor\n                  }\n                  onChange={this.handleInputChange}\n                />\n                Dynamic: live formatting for Markdown. <b>warning: </b>\n                existing Markdown may break (not compatible with KaTeX, lists\n                may not render properly; desktop and mobile compatible)\n              </label>\n            </section>\n            <section className=\"sk-panel-row settings\">\n              <label htmlFor={EditingModes.useMonacoEditor}>\n                <input\n                  id={EditingModes.useMonacoEditor}\n                  name={editingModeID}\n                  value={EditingModes.useMonacoEditor}\n                  type=\"radio\"\n                  className=\"radio\"\n                  checked={\n                    this.state.editingMode === EditingModes.useMonacoEditor\n                  }\n                  onChange={this.handleInputChange}\n                />\n                Monaco: syntax highlighting for Markdown and many other\n                programming languages, intelligent auto-completion,\n                sophisticated search and replace (desktop recommended)\n              </label>\n            </section>\n            {this.state.editingMode === EditingModes.useMonacoEditor && [\n              <section className=\"sk-panel-row settings\">\n                <label htmlFor={monacoEditorLanguageID}>\n                  Monaco Editor Language:{' '}\n                </label>\n                <div className=\"input-and-undo-button\">\n                  <label>\n                    <select\n                      id={monacoEditorLanguageID}\n                      name={monacoEditorLanguageID}\n                      value={this.state.monacoEditorLanguage}\n                      onChange={this.handleSelectChange}\n                    >\n                      <option>abap</option>\n                      <option>aes</option>\n                      <option>apex</option>\n                      <option>azcli</option>\n                      <option>bat</option>\n                      <option>c</option>\n                      <option>cameligo</option>\n                      <option>clojure</option>\n                      <option>coffeescript</option>\n                      <option>cpp</option>\n                      <option>csharp</option>\n                      <option>csp</option>\n                      <option>css</option>\n                      <option>dart</option>\n                      <option>dockerfile</option>\n                      <option>fsharp</option>\n                      <option>go</option>\n                      <option>graphql</option>\n                      <option>handlebars</option>\n                      <option>hcl</option>\n                      <option>html</option>\n                      <option>ini</option>\n                      <option>java</option>\n                      <option>javascript</option>\n                      <option>json</option>\n                      <option>julia</option>\n                      <option>kotlin</option>\n                      <option>less</option>\n                      <option>lexon</option>\n                      <option>lua</option>\n                      <option>markdown</option>\n                      <option>mips</option>\n                      <option>msdax</option>\n                      <option>mysql</option>\n                      <option>objective-c</option>\n                      <option>pascal</option>\n                      <option>pascaligo</option>\n                      <option>perl</option>\n                      <option>pgsql</option>\n                      <option>php</option>\n                      <option>plaintext</option>\n                      <option>postiats</option>\n                      <option>powerquery</option>\n                      <option>powershell</option>\n                      <option>pug</option>\n                      <option>python</option>\n                      <option>r</option>\n                      <option>razor</option>\n                      <option>redis</option>\n                      <option>redshift</option>\n                      <option>restructuredtext</option>\n                      <option>ruby</option>\n                      <option>rust</option>\n                      <option>sb</option>\n                      <option>scala</option>\n                      <option>scheme</option>\n                      <option>scss</option>\n                      <option>shell</option>\n                      <option>sol</option>\n                      <option>sql</option>\n                      <option>st</option>\n                      <option>swift</option>\n                      <option>systemverilog</option>\n                      <option>tcl</option>\n                      <option>twig</option>\n                      <option>typescript</option>\n                      <option>vb</option>\n                      <option>verilog</option>\n                      <option>xml</option>\n                      <option>yaml</option>\n                    </select>\n                  </label>\n                  <UndoButton\n                    onClick={this.clearMonacoEditorLanguage}\n                    title=\"Reset Monaco Editor Language to Markdown\"\n                  />\n                </div>\n              </section>,\n            ]}\n            <section className=\"sk-panel-row settings\">\n              <label htmlFor={fontSizeID}>Choose a base font size: </label>\n              <div className=\"input-and-undo-button\">\n                <select\n                  id={fontSizeID}\n                  name={fontSizeID}\n                  value={this.state.fontSize}\n                  onChange={this.handleSelectChange}\n                >\n                  <option></option>\n                  <option>12px</option>\n                  <option>13px</option>\n                  <option>14px</option>\n                  <option>15px</option>\n                  <option>16px</option>\n                  <option>17px</option>\n                  <option>18px</option>\n                  <option>19px</option>\n                  <option>20px</option>\n                  <option>21px</option>\n                  <option>22px</option>\n                  <option>23px</option>\n                  <option>24px</option>\n                  <option>25px</option>\n                  <option>26px</option>\n                  <option>27px</option>\n                  <option>28px</option>\n                  <option>29px</option>\n                  <option>30px</option>\n                </select>\n                <UndoButton\n                  onClick={this.clearFontSize}\n                  title=\"Reset font size to 16px\"\n                />\n              </div>\n            </section>\n            {this.state.editingMode !== EditingModes.useMonacoEditor && [\n              <section className=\"sk-panel-row settings\">\n                <label htmlFor={fontEditID}>\n                  Choose a font for Edit/Append:{' '}\n                </label>\n                <div className=\"input-and-undo-button\">\n                  <input\n                    list=\"fonts\"\n                    id={fontEditID}\n                    name={fontEditID}\n                    value={this.state.fontEdit}\n                    onChange={this.handleInputChange}\n                    onKeyDown={this.onKeyDown}\n                    onKeyUp={this.onKeyUp}\n                    type=\"text\"\n                  />\n                  <UndoButton\n                    onClick={this.clearFontEdit}\n                    title=\"Reset font for Edit/Append\"\n                  />\n                </div>\n              </section>,\n            ]}\n            {this.state.editingMode !== EditingModes.useDynamicEditor && [\n              <section className=\"sk-panel-row settings\">\n                <label htmlFor={fontViewID}>\n                  Choose a font for View/Print:{' '}\n                </label>\n                <div className=\"input-and-undo-button\">\n                  <input\n                    list=\"fonts\"\n                    id={fontViewID}\n                    name={fontViewID}\n                    value={this.state.fontView}\n                    onChange={this.handleInputChange}\n                    onKeyDown={this.onKeyDown}\n                    onKeyUp={this.onKeyUp}\n                    type=\"text\"\n                  />\n                  <UndoButton\n                    onClick={this.clearFontView}\n                    title=\"Reset font for View/Print\"\n                  />\n                </div>\n              </section>,\n            ]}\n            <section className=\"sk-panel-row settings custom-css\">\n              <ChevronToggleButton\n                caption={'Add custom styles (CSS):'}\n                className=\"chevron-toggle-button\"\n                condition={this.state.showCustomStyles}\n                onClick={this.toggleShowCustomStyles}\n                title={'Toggle show add custom styles (CSS)'}\n              />\n              {this.state.showCustomStyles && [\n                <UndoButton\n                  className={'custom-css-undo-button'}\n                  onClick={this.clearCustomStyles}\n                  title=\"Reset custom styles (CSS)\"\n                />,\n              ]}\n            </section>\n            {this.state.showCustomStyles && [\n              <section className=\"sk-panel-row settings\">\n                <MonacoEditor\n                  tabSize={2}\n                  language=\"css\"\n                  text={this.state.customStyles}\n                  onKeyDown={this.onKeyDown}\n                  onKeyUp={this.onKeyUp}\n                  saveText={this.saveText}\n                />\n              </section>,\n            ]}\n            <section className=\"sk-panel-row settings\">\n              <label htmlFor={saveAsDefaultID}>\n                Save these settings as your personal default:{' '}\n              </label>\n              <div className=\"input-and-undo-button\">\n                <label className={'checkbox-input-label'}>\n                  <input\n                    id={saveAsDefaultID}\n                    name={saveAsDefaultID}\n                    type=\"checkbox\"\n                    checked={this.state.saveAsDefault}\n                    onChange={this.handleInputChange}\n                  />\n                </label>\n                <UndoButton\n                  onClick={this.clearSaveAsDefault}\n                  title=\"Clear save as default\"\n                />\n              </div>\n            </section>\n          </div>\n        </div>\n        <div className=\"sk-panel-footer\">\n          <div className=\"sk-button-group stretch\">\n            <button className=\"sk-button neutral\" onClick={onCancel}>\n              <div>{cancelText}</div>\n            </button>\n            <button className=\"sk-button info\" onClick={this.handleSubmit}>\n              <div>{confirmText}</div>\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { ErrorInfo } from 'react';\nimport { GearIcon } from './Icons';\nimport { clickSettingsButton } from '../lib/clickButton';\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error?: Error;\n  errorInfo?: ErrorInfo;\n}\n\n/**\n * Learn more about Error Boundaries here:\n * https://reactjs.org/docs/error-boundaries.html\n */\n\nexport default class ErrorBoundary extends React.Component<\n  any,\n  ErrorBoundaryState\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // You can also log the error to an error reporting service\n    console.log('Error:', error, '\\nError Info:', errorInfo);\n    this.setState({\n      error,\n      errorInfo,\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <div className=\"sk-panel main\">\n          <div className=\"sk-panel-content view\">\n            <div id=\"errorBoundary\">\n              <h1>Something went wrong.</h1>\n              <p>\n                Error Name: <code>{this.state.error?.name}</code>\n              </p>\n              <p>\n                Error Message: <code>{this.state.error?.message}</code>\n              </p>\n              <p>Please see the developer console for details.</p>\n              <hr></hr>\n              <p>\n                Errors such as <code>TypeError</code> and{' '}\n                <code>Cannot read property 'type' of undefined</code> usually\n                occur when the editor is unable to process and render your notes\n                because it contains incorrect or incomplete HTML. If you are\n                writing in HTML, then please continue to write and refresh the\n                View Mode when the HTML tags are closed.\n              </p>\n              <p>\n                If you are using the Dynamic editing mode, then please switch to\n                the Plain Textarea or Monaco editing modes in the Settings\n                <button\n                  className=\"inline-text-and-svg\"\n                  onClick={clickSettingsButton}\n                  title=\"Open Settings\"\n                >\n                  <span>&nbsp;</span>\n                  <GearIcon role=\"button\" />\n                  <span>&nbsp;</span>\n                </button>\n                and remove or fix the text that is causing the error.\n              </p>\n              <p>\n                If the error persists or is not related to the content of your\n                note, then please{' '}\n                <a\n                  href=\"https://github.com/TheodoreChu/append-editor/issues\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  report the issue on GitHub\n                </a>{' '}\n                and we will try to fix it.{' '}\n                <span role=\"img\" aria-label=\"smile emoji\">\n                  🙂\n                </span>\n              </p>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","import React from 'react';\nimport { EditorKit, EditorKitDelegate } from 'sn-editor-kit';\nimport PrintDialog from './PrintDialog';\nimport EditNote from './EditNote';\nimport ViewNote from './ViewNote';\nimport AppendText from './AppendText';\nimport Settings from './Settings';\nimport { MonacoDiffEditor } from './Monaco';\nimport ErrorBoundary from './ErrorBoundary';\nimport Menu from './Menu';\n\nimport CodeMirror, { Editor } from 'codemirror';\nimport 'codemirror/lib/codemirror';\nimport 'codemirror/mode/gfm/gfm';\n\n// CodeMirror addons\n\n// For markdown\nimport 'codemirror/addon/edit/continuelist';\n\n// For search\nimport 'codemirror/addon/search/jump-to-line';\nimport 'codemirror/addon/search/match-highlighter';\nimport 'codemirror/addon/search/matchesonscrollbar';\nimport 'codemirror/addon/search/search';\nimport 'codemirror/addon/search/searchcursor';\nimport 'codemirror/addon/dialog/dialog';\n\n// For styling selected text\nimport 'codemirror/addon/selection/mark-selection';\nimport {\n  EyeIcon,\n  GearIcon,\n  HelpIcon,\n  MenuIcon,\n  PencilIcon,\n  PlusIcon,\n} from './Icons';\n\nimport { isLongString, renderLongMarkdown } from '../lib/renderMarkdown';\n\nexport enum HtmlElementId {\n  appendButton = 'appendButton',\n  appendTextArea = 'appendTextArea',\n  appendix = 'appendix',\n  content = 'content',\n  edit = 'edit',\n  editButton = 'editButton',\n  editTextArea = 'editTextArea',\n  header = 'header',\n  helpButton = 'helpButton',\n  menuButton = 'menuButton',\n  newLine = 'newLine',\n  newParagraph = 'newParagraph',\n  printButton = 'printButton',\n  settingsButton = 'settingsButton',\n  view = 'view',\n  viewButton = 'viewButton',\n}\n\nexport enum HtmlClassName {\n  fixed = 'fixed',\n  fixedHeader = 'fixed-header',\n}\n\nexport enum EditingModes {\n  usePlainText = 'usePlainText',\n  useCodeMirror = 'useCodeMirror',\n  useDynamicEditor = 'useDynamicEditor',\n  useMonacoEditor = 'useMonacoEditor',\n}\n\nexport type DefaultSettings = {\n  customStyles: string;\n  editingMode: string;\n  fontEdit: string;\n  fontSize: string;\n  fontView: string;\n  monacoEditorLanguage: string;\n};\n\nexport interface SaveSettingsInterface extends DefaultSettings {\n  saveAsDefault: boolean;\n}\n\nexport type menuOptions = {\n  borderlessMode?: boolean;\n  fixedHeightMode?: boolean;\n  fullWidthMode?: boolean;\n  overflowMode?: boolean;\n  showMenuOptionsEdit?: boolean;\n  showMenuOptionsShare?: boolean;\n  showMenuOptionsView?: boolean;\n};\n\nexport interface AppendInterface {\n  text: string;\n  appendCodeMirror?: any;\n  appendNewLine: boolean;\n  appendNewParagraph: boolean;\n  appendMode: boolean;\n  appendRows: number;\n  appendText: string;\n  borderlessMode?: boolean;\n  bypassDebounce: boolean;\n  confirmPrintUrl: boolean;\n  currentState?: object;\n  customStyles: string;\n  defaultSettings: DefaultSettings;\n  editMode?: any;\n  editingMode?: string;\n  editCodeMirror?: any;\n  fontEdit: string;\n  fontSize: string;\n  fontView: string;\n  fixedHeightMode?: boolean;\n  fullWidthMode?: boolean;\n  overflowMode?: boolean;\n  keyMap?: Object;\n  monacoEditorLanguage: string;\n  printURL: boolean;\n  refreshEdit: boolean;\n  refreshView: boolean;\n  saveAsDefault?: boolean;\n  savingEditorOptions?: boolean;\n  showAppendix: boolean;\n  showDiff: boolean;\n  showHeader: boolean;\n  showHelp: boolean;\n  showMenu?: boolean;\n  showMenuOptionsEdit?: boolean;\n  showMenuOptionsShare?: boolean;\n  showMenuOptionsView?: boolean;\n  settingsMode: boolean;\n  viewMode?: boolean;\n}\n\n/**\n * Some properties are optional so\n * they do not need to be set\n * when switching between notes.\n */\n\nconst initialState = {\n  text: '',\n  appendNewLine: false,\n  appendNewParagraph: false,\n  appendMode: false,\n  appendRows: 8,\n  appendText: '',\n  bypassDebounce: false, // We keep this as false in initialState so debounce works in the demo\n  confirmPrintUrl: false,\n  customStyles: '',\n  defaultSettings: {\n    customStyles: '',\n    editingMode: 'usePlainText',\n    fontEdit: '',\n    fontSize: '',\n    fontView: '',\n    monacoEditorLanguage: 'markdown',\n  },\n  fontEdit: '',\n  fontSize: '',\n  fontView: '',\n  monacoEditorLanguage: 'markdown',\n  printURL: true,\n  refreshEdit: false,\n  refreshView: false,\n  showAppendix: true,\n  showHeader: true,\n  showHelp: false,\n  showDiff: false,\n  settingsMode: false,\n};\n\nlet last_known_scroll_position = 0;\n\nconst debugMode = false;\n\nlet keyMap = new Map();\n\nexport default class AppendEditor extends React.Component<{}, AppendInterface> {\n  editorKit: any;\n  refreshEditorTimer: NodeJS.Timeout | undefined;\n  saveTimer: NodeJS.Timeout | undefined;\n\n  constructor(props: AppendInterface) {\n    super(props);\n    this.configureEditorKit();\n    this.state = initialState;\n  }\n\n  /**\n   * This loads the first time the editor is loaded\n   * This does not load every time a new note is loaded */\n  componentDidMount = () => {\n    if (debugMode) {\n      console.log('AppendEditor.tsx: \\n - this.componentDidMount() triggered');\n    }\n    this.onViewMode();\n    this.loadDefaultMenuState();\n    document.addEventListener('scroll', this.onScroll);\n  };\n\n  componentWillUnmount = () => {\n    document.removeEventListener('scroll', this.onScroll);\n  };\n\n  configureEditorKit = () => {\n    if (debugMode) {\n      console.log('AppendEditor.tsx: \\n - this.configureEditorKit() triggered');\n    }\n    let delegate = new EditorKitDelegate({\n      /** This loads every time a different note is loaded\n       * We turn bypassDebounce to true so\n       * the editor always renders the markdown for the latest note\n       */\n      setEditorRawText: (text: string) => {\n        this.setState(\n          {\n            ...initialState,\n            bypassDebounce: true,\n            text,\n          },\n          () => {\n            if (debugMode) {\n              console.log(\n                '#################################################################################\\n' +\n                  'AppendEditor.tsx:',\n                '\\n - loaded text:',\n                text +\n                  '\\n - this.configureEditorKit() callback triggered:' +\n                  '\\n - this.state.savingsDefaultSettings: ' +\n                  this.state.savingEditorOptions +\n                  '\\n - this.state: ' +\n                  JSON.stringify(this.state, null, ' ')\n              );\n            }\n            /** Clear the debounce from the previous note and componentDidMount\n             * Then call and flush the debounce so the correct markdown will render\n             * the first time after turning the bypass off */\n            isLongString.cancel();\n            isLongString(text);\n            isLongString.flush();\n            renderLongMarkdown.cancel();\n            if (isLongString(text)) {\n              renderLongMarkdown(text);\n              renderLongMarkdown.flush();\n            }\n            /** This prevents metadata from loading when saving editor options or default settings */\n            if (!this.state.savingEditorOptions) {\n              this.loadEditorOptions();\n              this.loadDefaultSettings();\n              this.loadMetaData();\n            }\n            /** Turn the debounce bypass off\n             * This loads every time, even when saving editor options or default settings\n             * because bypassDebounce is set to true every time\n             */\n            setTimeout(() => {\n              this.setState({\n                bypassDebounce: false,\n              });\n            }, 1000);\n          }\n        );\n      },\n      clearUndoHistory: () => {},\n      getElementsBySelector: () => [],\n    });\n\n    this.editorKit = new EditorKit({\n      delegate: delegate,\n      mode: 'plaintext',\n      supportsFilesafe: false,\n    });\n  };\n\n  /** Expect this to run three times when loading a note:\n   * once when loading editor options,\n   * once when loading default settings, and\n   * once when loading meta data\n   * Use the timer to prevent the function from being executed when it is called\n   * repeatedly, as when loading a note or saving a menu option */\n  refreshEditor = () => {\n    if (isLongString(this.state.text)) {\n      if (this.refreshEditorTimer) {\n        clearTimeout(this.refreshEditorTimer);\n      }\n      this.refreshEditorTimer = setTimeout(() => {\n        if (!this.state.savingEditorOptions) {\n          this.refreshEdit();\n          this.refreshView();\n          this.activateStyles();\n        }\n      }, 20);\n    } else {\n      if (this.refreshEditorTimer) {\n        clearTimeout(this.refreshEditorTimer);\n      }\n      this.refreshEditorTimer = setTimeout(() => {\n        if (!this.state.savingEditorOptions) {\n          this.refreshEdit();\n          this.refreshView();\n          this.activateStyles();\n        }\n      }, 10);\n    }\n  };\n\n  loadDefaultSettings = () => {\n    try {\n      const defaultSettingsString = this.editorKit.internal.componentManager.componentDataValueForKey(\n        'defaultSettings'\n      );\n      const defaultEditingMode = this.editorKit.internal.componentManager.componentDataValueForKey(\n        'editingMode'\n      );\n      if (debugMode) {\n        console.log(\n          'AppendEditor.tsx: \\n loadDefaultSetting() default settings loaded: ' +\n            '\\n  - defaultSettingsString: ' +\n            defaultSettingsString,\n          '\\n    - typeof:',\n          typeof defaultSettingsString,\n          '\\n  - defaultEditingMode:',\n          defaultEditingMode,\n          '\\n    - typeof:',\n          typeof defaultEditingMode\n        );\n      }\n      if (defaultSettingsString !== undefined) {\n        const defaultSettingsObject = JSON.parse(\n          defaultSettingsString\n        ) as DefaultSettings;\n        if (debugMode) {\n          console.log(\n            'AppendEditor.tsx: \\n loadDefaultSetting():',\n            'if (defaultSettingsString !== undefined) triggered',\n            '\\n    - typeof defaultSettings:',\n            typeof defaultSettingsObject\n          );\n        }\n        this.setState(\n          {\n            customStyles: defaultSettingsObject.customStyles,\n            editingMode: defaultSettingsObject.editingMode,\n            fontEdit: defaultSettingsObject.fontEdit,\n            fontSize: defaultSettingsObject.fontSize,\n            fontView: defaultSettingsObject.fontView,\n            monacoEditorLanguage: defaultSettingsObject.monacoEditorLanguage,\n            defaultSettings: defaultSettingsObject,\n          },\n          () => {\n            if (debugMode) {\n              console.log(\n                'AppendEditor.tsx: \\n - loadDefaultSettings() this.state.savingEditorOptions: ' +\n                  this.state.savingEditorOptions +\n                  '\\n defaultSettingsObject:',\n                defaultSettingsObject,\n                '\\n JSON.stringify(this.state.defaultSettings):',\n                JSON.stringify(this.state.defaultSettings, null, ' ')\n              );\n            }\n            this.refreshEditor();\n          }\n        );\n      } else if (defaultEditingMode !== undefined) {\n        /** This else if loads legacy default settings introduced in v1.1.0\n         * We only need to check defaultEditingMode because it is never empty if it is defined\n         * */\n        const defaultCustomStyles = this.editorKit.internal.componentManager.componentDataValueForKey(\n          'customStyles'\n        );\n        const defaultFontEdit = this.editorKit.internal.componentManager.componentDataValueForKey(\n          'fontEdit'\n        );\n        const defaultFontSize = this.editorKit.internal.componentManager.componentDataValueForKey(\n          'fontSize'\n        );\n        const defaultFontView = this.editorKit.internal.componentManager.componentDataValueForKey(\n          'fontView'\n        );\n        const defaultMonacoEditorLanguage = this.editorKit.internal.componentManager.componentDataValueForKey(\n          'monacoEditorLanguage'\n        );\n        if (debugMode) {\n          console.log(\n            'AppendEditor.tsx: \\n loadDefaultSetting():',\n            'else if (defaultEditingMode !== undefined) triggered',\n            '\\n  - default customStyles: ' + defaultCustomStyles,\n            '\\n    - typeof:',\n            typeof defaultCustomStyles +\n              '\\n  - default fontSize: ' +\n              defaultFontSize +\n              '\\n  - default fontEdit: ' +\n              defaultFontEdit +\n              '\\n  - default fontView: ' +\n              defaultFontView +\n              '\\n  - default monacoEditorLanguage: ' +\n              defaultMonacoEditorLanguage\n          );\n        }\n        this.setState(\n          {\n            customStyles: defaultCustomStyles,\n            editingMode: defaultEditingMode,\n            fontEdit: defaultFontEdit,\n            fontSize: defaultFontSize,\n            fontView: defaultFontView,\n            monacoEditorLanguage: defaultMonacoEditorLanguage,\n            defaultSettings: {\n              customStyles: defaultCustomStyles,\n              editingMode: defaultEditingMode,\n              fontEdit: defaultFontEdit,\n              fontSize: defaultFontSize,\n              fontView: defaultFontView,\n              monacoEditorLanguage: defaultMonacoEditorLanguage,\n            },\n          },\n          () => {\n            if (debugMode) {\n              console.log(\n                'AppendEditor.tsx: \\n - loadDefaultSettings() this.state.savingEditorOptions: ' +\n                  this.state.savingEditorOptions\n              );\n            }\n            this.refreshEditor();\n          }\n        );\n      } else {\n        if (debugMode) {\n          console.log(\n            'AppendEditor.tsx: loadDefaultSettings(), else, current state:',\n            JSON.stringify(this.state, null, ' ')\n          );\n        }\n        this.refreshEditor();\n      }\n    } catch (error) {\n      // Log outside debug mode\n      console.log('Error loading default settings:', error);\n    }\n  };\n\n  loadEditorOptions = () => {\n    try {\n      const menuOptionsString = this.editorKit.internal.componentManager.componentDataValueForKey(\n        'menuOptions'\n      );\n      if (menuOptionsString !== undefined) {\n        const menuOptionsObject = JSON.parse(menuOptionsString) as menuOptions;\n        this.setState(\n          {\n            borderlessMode: menuOptionsObject.borderlessMode,\n            fixedHeightMode: menuOptionsObject.fixedHeightMode,\n            fullWidthMode: menuOptionsObject.fullWidthMode,\n            overflowMode: menuOptionsObject.overflowMode,\n            //showMenuOptionsEdit: menuOptionsObject.showMenuOptionsEdit,\n            //showMenuOptionsShare: menuOptionsObject.showMenuOptionsShare,\n            //showMenuOptionsView: menuOptionsObject.showMenuOptionsView,\n          },\n          () => {\n            this.refreshEditor();\n          }\n        );\n      }\n    } catch (error) {\n      // Log outside debug mode\n      console.log('Error loading editor options:', error);\n    }\n  };\n\n  // This loads the Settings and Append Text\n  loadMetaData = () => {\n    this.editorKit.internal.componentManager.streamContextItem((note: any) => {\n      // Load editor settings\n      if (\n        note.content.appendEditorCustomStyles ||\n        note.content.appendEditorEditingMode ||\n        note.content.appendEditorFontEdit ||\n        note.content.appendEditorFontSize ||\n        note.content.appendEditorFontView ||\n        note.content.appendEditorMonacoEditorLanguage\n      ) {\n        this.setState(\n          {\n            customStyles: note.content.appendEditorCustomStyles,\n            editingMode: note.content.appendEditorEditingMode,\n            fontEdit: note.content.appendEditorFontEdit,\n            fontSize: note.content.appendEditorFontSize,\n            fontView: note.content.appendEditorFontView,\n            monacoEditorLanguage: note.content.appendEditorMonacoEditorLanguage,\n          },\n          () => {\n            if (debugMode) {\n              console.log(\n                'AppendEditor.tsx: \\n - loadMetaData() this.state.savingEditorOptions: ' +\n                  this.state.savingEditorOptions\n              );\n            }\n            this.refreshEditor();\n            if (debugMode) {\n              console.log(\n                'editorKit metadata loaded: ' +\n                  '\\n  - loaded customStyles: ' +\n                  this.state.customStyles +\n                  '\\n  - loaded editingMode: ' +\n                  this.state.editingMode +\n                  '\\n  - loaded fontEdit: ' +\n                  this.state.fontEdit +\n                  '\\n  - loaded fontSize: ' +\n                  this.state.fontSize +\n                  '\\n  - loaded fontView: ' +\n                  this.state.fontView +\n                  '\\n  - loaded monacoEditorLanguage: ' +\n                  this.state.monacoEditorLanguage\n              );\n            }\n          }\n        );\n      }\n      // Load append settings\n      if (note.content.appendNewLine || note.content.appendNewParagraph) {\n        this.setState({\n          appendNewLine: note.content.appendNewLine,\n          appendNewParagraph: note.content.appendNewParagraph,\n        });\n      }\n      // Finally, load appendText\n      this.setState(\n        {\n          appendText: note.content.appendText,\n        },\n        () => {\n          /**If both text and appendText are empty,\n           * such as when creating a new note,\n           * and editMode is off,\n           * then open the edit mode\n           */\n          if (\n            !this.state.text &&\n            !this.state.appendText &&\n            !this.state.editMode\n          ) {\n            this.onEditMode();\n          }\n        }\n      );\n      if (debugMode) {\n        console.log(\n          '  - loaded append text: ' +\n            this.state.appendText +\n            '\\n  - loaded append newline: ' +\n            this.state.appendNewLine +\n            '\\n  - loaded append new paragraph: ' +\n            this.state.appendNewParagraph +\n            '\\n  - loaded editorKit internal appendText: ' +\n            this.editorKit.internal.note.content.appendText\n        );\n      }\n    });\n  };\n\n  saveText = (text: string) => {\n    this.saveNote(text);\n    this.setState(\n      {\n        text: text,\n      },\n      () => {\n        if (this.state.editingMode === EditingModes.useDynamicEditor) {\n          this.refreshView();\n        } else if (this.state.viewMode && isLongString(text)) {\n          /** If the note text is long, then rendering its markdown will debounce\n           * If the we stop editing for 550 milliseconds, then\n           * automatically refresh the view to force the latest markdown to render\n           * We use 550 because the debounce is 500.\n           */\n          if (this.saveTimer) {\n            clearTimeout(this.saveTimer);\n          }\n          this.saveTimer = setTimeout(() => {\n            if (this.state.fixedHeightMode) {\n              /** This keeps the vertical scroll when refreshing view */\n              const view = document.getElementById(HtmlElementId.view);\n              if (view) {\n                let scrollY = view.scrollTop;\n                this.refreshView();\n                /** We have to find the new view because\n                 * the previous one doesn't exist anymore */\n                const refreshedView = document.getElementById(\n                  HtmlElementId.view\n                );\n                if (refreshedView) {\n                  refreshedView.scrollTop = scrollY;\n                }\n              } else {\n                this.refreshView();\n              }\n            } else {\n              this.refreshView();\n            }\n          }, 550);\n        }\n        if (debugMode) {\n          console.log('AppendEditor.tsx: saved text:', this.state.text);\n        }\n      }\n    );\n  };\n\n  saveNote = (text: string) => {\n    // This will work in an SN context, but breaks the standalone editor, so we need to catch the error\n    try {\n      this.editorKit.onEditorValueChanged(text);\n    } catch (error) {\n      // Log outside debug mode\n      console.log('Error saving note:', error);\n    }\n  };\n\n  // Entry operations\n\n  appendTextToNote = () => {\n    // Do nothing if there's no append text\n    if (this.state.appendText) {\n      /*\n       * We usually use this.editText() to save the main text\n       * However, we want to save the main text and clear the appendText\n       * Consecutive calls to the component manager does not work well,\n       * so we want to do both with one call to the component manager\n       * This means we need multiple versions of this function depending on what we want to save */\n      const { appendText } = this.state;\n      let textToAppend = '';\n      // We test for new paragraph first even though new line is on top and is on by default\n      if (this.state.appendNewParagraph) {\n        textToAppend = '  \\n\\n' + appendText;\n      } else if (this.state.appendNewLine) {\n        textToAppend = '  \\n' + appendText;\n      } else {\n        textToAppend = appendText;\n      }\n      this.setState(\n        {\n          text: this.state.text.concat(textToAppend),\n          appendText: '',\n        },\n        () => {\n          let note = this.editorKit.internal.note;\n          if (note) {\n            this.editorKit.internal.componentManager.saveItemWithPresave(\n              note,\n              () => {\n                note.content.text = this.state.text; // this.editorKit.internal.note.content.text\n                note.content.appendText = this.state.appendText; // this.editorKit.internal.note.content.appendText\n              }\n            );\n          }\n          this.refreshEdit();\n          // Refresh view mode if using dynamic\n          if (this.state.editingMode === EditingModes.useDynamicEditor) {\n            this.refreshView();\n            setTimeout(() => {\n              this.skipToBottom();\n            }, 50);\n          } else if (isLongString(this.state.text)) {\n            setTimeout(() => {\n              this.refreshView();\n              this.skipToBottom();\n            }, 550);\n          } else {\n            this.skipToBottom();\n          }\n        }\n      );\n    }\n    // Refresh appendCodeMirror\n    if (\n      this.state.appendCodeMirror &&\n      this.state.editingMode === EditingModes.useCodeMirror\n    ) {\n      this.state.appendCodeMirror.setValue('');\n    }\n  };\n\n  autoSaveAppendText = (text: string) => {\n    // This code is similar to this.onAppend();, but we only save the appendText and not the main text\n    this.setState({\n      appendText: text,\n    });\n    // This will work in an SN context, but breaks the standalone editor, so we need to catch the error\n    try {\n      let note = this.editorKit.internal.note;\n      if (note) {\n        this.editorKit.internal.componentManager.saveItemWithPresave(\n          note,\n          () => {\n            note.content.appendText = text;\n          }\n        );\n      }\n    } catch (error) {\n      // Log outside debug mode\n      console.log('Error saving appendText:', error);\n    }\n  };\n\n  autoSaveCheckBoxes = (newLine: boolean, newParagraph: boolean) => {\n    // Here we save the appendText, appendNewLine, and appendNewParagraph\n    // We have an additional function for this because we only call it when the user clicks a checkbox\n    this.setState({\n      appendNewLine: newLine,\n      appendNewParagraph: newParagraph,\n    });\n    // This will work in an SN context, but breaks the standalone editor, so we need to catch the error\n    try {\n      let note = this.editorKit.internal.note;\n      if (note) {\n        this.editorKit.internal.componentManager.saveItemWithPresave(\n          note,\n          () => {\n            note.content.appendNewLine = newLine;\n            note.content.appendNewParagraph = newParagraph;\n          }\n        );\n      }\n    } catch (error) {\n      // Log outside debug mode\n      console.log('Error saving checkboxes:', error);\n    }\n  };\n\n  refreshEdit = () => {\n    this.setState(\n      {\n        refreshEdit: !this.state.refreshEdit,\n      },\n      () => {\n        // We could also check for this.state.editMode,\n        // but it might not be loaded yet.\n        // Checking for editTextArea checks whether editMode has loaded\n        const editTextArea = document.getElementById(\n          HtmlElementId.editTextArea\n        );\n        if (\n          editTextArea &&\n          this.state.editingMode === EditingModes.useCodeMirror\n        ) {\n          this.configureCodeMirror(HtmlElementId.editTextArea);\n        }\n      }\n    );\n  };\n\n  refreshView = () => {\n    this.setState({\n      refreshView: !this.state.refreshView,\n    });\n  };\n\n  configureCodeMirror = (id: string) => {\n    if (id === HtmlElementId.editTextArea) {\n      if (debugMode) {\n        console.log('this.state.text: ' + this.state.text);\n      }\n      const editTextArea = document.getElementById(id) as HTMLTextAreaElement;\n      if (editTextArea) {\n        const editCodeMirror = CodeMirror.fromTextArea(editTextArea, {\n          autocorrect: true,\n          autocapitalize: true,\n          extraKeys: {\n            Enter: 'newlineAndIndentContinueMarkdownList',\n            'Alt-F': 'findPersistent',\n          },\n          lineNumbers: false,\n          lineWrapping: true,\n          mode: 'gfm',\n          spellcheck: true,\n          //@ts-ignore\n          styleSelectedText: true,\n          tabindex: 0,\n          theme: 'default',\n          value: this.state.text,\n        });\n        editCodeMirror.setSize('100%', '100%');\n        editCodeMirror.on('change', () => {\n          const editCodeMirrorText = editCodeMirror.getValue();\n          if (debugMode) {\n            console.log('editCodeMirror value: ' + editCodeMirrorText);\n          }\n          editCodeMirror.save();\n          this.saveText(editCodeMirrorText);\n        });\n        editCodeMirror.on('keydown', (cm: Editor, event: KeyboardEvent) => {\n          this.onKeyDown(event);\n          this.onKeyDownEditTextArea(event);\n          this.onKeyDownTextArea(event);\n        });\n        editCodeMirror.on('keyup', (cm: Editor, event: KeyboardEvent) => {\n          this.onKeyUp(event);\n        });\n        this.setState({\n          editCodeMirror: editCodeMirror,\n        });\n      }\n    } else if (id === HtmlElementId.appendTextArea) {\n      const appendTextArea = document.getElementById(\n        HtmlElementId.appendTextArea\n      ) as HTMLTextAreaElement;\n      if (appendTextArea) {\n        const appendCodeMirror = CodeMirror.fromTextArea(appendTextArea, {\n          autocorrect: true,\n          autocapitalize: true,\n          extraKeys: {\n            Enter: 'newlineAndIndentContinueMarkdownList',\n            'Alt-F': 'findPersistent',\n          },\n          lineNumbers: false,\n          lineWrapping: true,\n          mode: 'gfm',\n          spellcheck: true,\n          //@ts-ignore\n          styleSelectedText: true,\n          tabindex: 0,\n          theme: 'default',\n          value: this.state.appendText,\n        });\n        appendCodeMirror.setSize('100%', '100%');\n        appendCodeMirror.on('change', () => {\n          const appendCodeMirrorText = appendCodeMirror.getValue();\n          appendCodeMirror.save();\n          this.autoSaveAppendText(appendCodeMirrorText);\n        });\n        appendCodeMirror.on('keydown', (cm: Editor, event: KeyboardEvent) => {\n          this.onKeyDown(event);\n          this.onKeyDownAppendTextArea(event);\n          this.onKeyDownTextArea(event);\n        });\n        appendCodeMirror.on('keyup', (cm: Editor, event: KeyboardEvent) => {\n          this.onKeyUp(event);\n        });\n        this.setState({\n          appendCodeMirror: appendCodeMirror,\n        });\n      }\n    }\n  };\n\n  // Event Handlers\n  onEditMode = () => {\n    // if Append box is empty, close it and open Edit mode\n    // if Edit mode is on, then close it, open View mode, and Append mode\n    if (!this.state.editMode) {\n      if (this.state.appendMode && !this.state.appendText) {\n        this.setState({\n          appendMode: false,\n        });\n      }\n      this.setState(\n        {\n          editMode: true,\n        },\n        () => {\n          const editTextArea = document.getElementById(\n            HtmlElementId.editTextArea\n          );\n          if (editTextArea) {\n            editTextArea.focus();\n            if (this.state.editingMode === EditingModes.useCodeMirror) {\n              this.configureCodeMirror(HtmlElementId.editTextArea);\n            }\n          }\n        }\n      );\n    } else if (this.state.editMode) {\n      /**If edit mode is on and Monaco Editor is off,\n       * then turn edit mode off and turn view mode on.\n       * This automatically renders the text. We do not\n       * do this when Monaco is on because refreshing edit Mode\n       * with Monaco Editor off allows us to resize the Monaco Editor.\n       */\n      if (!(this.state.editingMode === EditingModes.useMonacoEditor)) {\n        this.setState({\n          viewMode: true,\n        });\n      }\n      if (this.state.editCodeMirror) {\n        this.state.editCodeMirror.toTextArea();\n      }\n      this.setState(\n        {\n          editMode: false,\n        },\n        () => {\n          // if not using append mode, focus on editButton\n          if (!this.state.appendMode) {\n            const editButton = document.getElementById(\n              HtmlElementId.editButton\n            );\n            if (editButton) {\n              editButton.focus();\n            }\n          }\n        }\n      );\n    }\n  };\n\n  onAppendMode = (scrollDown = true, closeEdit = true, focus = true) => {\n    if (!this.state.appendMode) {\n      if (closeEdit) {\n        this.setState({\n          editMode: false,\n        });\n      }\n      this.setState(\n        {\n          appendMode: true,\n        },\n        () => {\n          if (scrollDown) {\n            this.scrollToBottom();\n          }\n          if (focus) {\n            const appendTextArea = document.getElementById(\n              HtmlElementId.appendTextArea\n            );\n            if (appendTextArea) {\n              appendTextArea.focus();\n              if (this.state.editingMode === EditingModes.useCodeMirror) {\n                this.configureCodeMirror(HtmlElementId.appendTextArea);\n              }\n            }\n          }\n        }\n      );\n    } else if (this.state.appendMode) {\n      if (this.state.appendCodeMirror) {\n        this.state.appendCodeMirror.toTextArea();\n      }\n      this.setState(\n        {\n          appendMode: false,\n        },\n        () => {\n          if (this.state.editingMode === EditingModes.useMonacoEditor) {\n            this.refreshEdit();\n          }\n          if (focus) {\n            const appendButton = document.getElementById(\n              HtmlElementId.appendButton\n            );\n            if (appendButton) {\n              appendButton.focus();\n            }\n          }\n        }\n      );\n    }\n  };\n\n  onViewMode = () => {\n    if (!this.state.viewMode) {\n      this.setState(\n        {\n          viewMode: true,\n        },\n        () => {\n          if (this.state.editingMode === EditingModes.useMonacoEditor) {\n            this.refreshEdit();\n          }\n          if (this.state.appendMode && !this.state.editMode) {\n            this.skipToBottom();\n          }\n        }\n      );\n    }\n    if (this.state.viewMode) {\n      this.setState(\n        {\n          viewMode: false,\n        },\n        () => {\n          if (this.state.editingMode === EditingModes.useMonacoEditor) {\n            this.refreshEdit();\n          }\n          if (!this.state.editMode && !this.state.appendMode) {\n            this.onEditMode();\n          }\n        }\n      );\n    }\n  };\n\n  toggleShowHelp = () => {\n    if (!this.state.showHelp) {\n      this.setState(\n        {\n          showHelp: true,\n        },\n        () => {\n          if (!this.state.viewMode) {\n            this.onViewMode();\n          } else if (this.state.viewMode) {\n            this.refreshView();\n          }\n          const helpButton = document.getElementById(HtmlElementId.helpButton);\n          if (helpButton) {\n            helpButton.focus();\n          }\n          setTimeout(() => {\n            this.scrollToTop();\n          }, 50);\n        }\n      );\n    } else {\n      this.setState(\n        {\n          showHelp: false,\n        },\n        () => {\n          this.refreshView();\n          const helpButton = document.getElementById(HtmlElementId.helpButton);\n          if (helpButton) {\n            helpButton.focus();\n          }\n        }\n      );\n    }\n  };\n\n  toggleShowMenu = () => {\n    this.setState(\n      {\n        showMenu: !this.state.showMenu,\n      },\n      () => {\n        const menuButton = document.getElementById(HtmlElementId.menuButton);\n        if (menuButton) {\n          menuButton.focus();\n        }\n      }\n    );\n  };\n\n  loadDefaultMenuState = () => {\n    this.setState({\n      showMenuOptionsEdit: false,\n      showMenuOptionsShare: true,\n      showMenuOptionsView: true,\n    });\n  };\n\n  toggleShowMenuOptionsEdit = () => {\n    this.setState({ showMenuOptionsEdit: !this.state.showMenuOptionsEdit });\n  };\n\n  toggleShowMenuOptionsShare = () => {\n    this.setState({ showMenuOptionsShare: !this.state.showMenuOptionsShare });\n  };\n\n  toggleShowMenuOptionsView = () => {\n    this.setState({ showMenuOptionsView: !this.state.showMenuOptionsView });\n  };\n\n  toggleBorderlessMode = () => {\n    this.setState(\n      {\n        borderlessMode: !this.state.borderlessMode,\n      },\n      () => {\n        this.activateFixedHeader();\n        this.saveMenuOptions();\n      }\n    );\n  };\n\n  toggleFixedHeightMode = () => {\n    this.setState(\n      {\n        fixedHeightMode: !this.state.fixedHeightMode,\n      },\n      () => {\n        this.activateFixedHeader();\n        this.saveMenuOptions();\n      }\n    );\n  };\n\n  toggleFullWidthMode = () => {\n    this.setState(\n      {\n        fullWidthMode: !this.state.fullWidthMode,\n      },\n      () => {\n        this.activateFixedHeader();\n        this.saveMenuOptions();\n      }\n    );\n  };\n\n  toggleOverflowMode = () => {\n    this.setState(\n      {\n        overflowMode: !this.state.overflowMode,\n      },\n      () => {\n        this.activateFixedHeader();\n        this.saveMenuOptions();\n      }\n    );\n  };\n\n  saveMenuOptions = () => {\n    let currentMenuOptions: menuOptions;\n    currentMenuOptions = {\n      borderlessMode: this.state.borderlessMode,\n      fixedHeightMode: this.state.fixedHeightMode,\n      fullWidthMode: this.state.fullWidthMode,\n      overflowMode: this.state.overflowMode,\n      /**These are turned off to prevent excess re-rendering of the note when opening/closing the menu */\n      //showMenuOptionsEdit: this.state.showMenuOptionsEdit,\n      //showMenuOptionsShare: this.state.showMenuOptionsShare,\n      //showMenuOptionsView: this.state.showMenuOptionsView,\n    };\n    this.saveEditorOption('menuOptions', JSON.stringify(currentMenuOptions));\n  };\n\n  saveEditorOption = (\n    optionKey: string,\n    optionValue: string | boolean | undefined\n  ) => {\n    this.setState(\n      {\n        savingEditorOptions: true,\n      },\n      () => {\n        try {\n          this.editorKit.internal.componentManager.setComponentDataValueForKey(\n            optionKey,\n            optionValue\n          );\n          /** this.configureEditorKit() is triggered\n           * every time setComponentDataValueForKey is triggered, but\n           * savingEditorOptions prevents the callback from triggering.\n           * Then, after the timeout, the new default settings or options can\n           * take into effect immediately.\n           * However, if you switch the note within the timeout, you will get an error.\n           * I have tried 150 and 200 but they both are not long enough. 250 is short enough\n           * to work, but not long enough to be easily noticeable.\n           * We do not load editor options because they are optional and persist through\n           * this.configureEditorKit().\n           * */\n          setTimeout(() => {\n            this.setState(\n              {\n                savingEditorOptions: false,\n              },\n              () => {\n                this.loadDefaultSettings();\n                this.loadMetaData();\n              }\n            );\n          }, 250);\n        } catch (error) {\n          console.log(\n            'Error saving editor option. Your optionKey:',\n            optionKey,\n            '\\n - Your optionValue: ',\n            optionValue,\n            '\\n - The error: ',\n            error\n          );\n          this.setState(\n            {\n              savingEditorOptions: false,\n            },\n            () => {\n              /** We use refreshEditor() if there's an error (such as in the demo)\n               * But not in the actual editor because loadDefaultSettings and loadMetaData\n               * will run refreshEditor() twice, and if there's no issue saving editor options,\n               * then there's probably no issue loading default settings and metadata.\n               * */\n              this.refreshEditor();\n              this.loadDefaultSettings();\n              this.loadMetaData();\n            }\n          );\n        }\n      }\n    );\n  };\n\n  onSettingsMode = () => {\n    // Here we save the current state. We reload the current state if we cancel and after we save\n    if (!this.state.settingsMode) {\n      this.removeFixedHeader();\n      this.setState(\n        {\n          currentState: this.state,\n        },\n        () => {\n          /** Turn everything off and turn Settings on */\n          this.setState(\n            {\n              appendMode: false,\n              editMode: false,\n              fullWidthMode: false,\n              fixedHeightMode: false,\n              settingsMode: true,\n              showAppendix: false, // Hides the scroll up/down buttons\n              showHeader: false,\n              showMenu: false,\n              viewMode: false,\n            },\n            () => {\n              const undoDialog = document.getElementById('undoDialog');\n              if (undoDialog) {\n                undoDialog.focus();\n              }\n            }\n          );\n        }\n      );\n    } else if (this.state.settingsMode) {\n      this.setState(\n        {\n          ...this.state.currentState,\n          settingsMode: false,\n        },\n        () => {\n          this.refreshEdit();\n          const settingsButton = document.getElementById(\n            HtmlElementId.settingsButton\n          );\n          if (settingsButton) {\n            settingsButton.focus();\n          }\n        }\n      );\n    }\n  };\n\n  /** Restore current state but change the items that are saved from the Settings.\n   * It's important to restore the current state to restore items that were turned off, such as\n   * fixedHeight and fullWidth.\n   */\n  onSaveSettings = ({\n    customStyles,\n    editingMode,\n    fontEdit,\n    fontSize,\n    fontView,\n    monacoEditorLanguage,\n    saveAsDefault,\n  }: SaveSettingsInterface) => {\n    this.setState(\n      {\n        ...this.state.currentState,\n        customStyles,\n        editingMode,\n        fontEdit,\n        fontSize,\n        fontView,\n        monacoEditorLanguage,\n        showAppendix: true,\n        showHeader: true,\n        settingsMode: false,\n      },\n      () => {\n        this.refreshEditor();\n        const settingsButton = document.getElementById(\n          HtmlElementId.settingsButton\n        );\n        if (settingsButton) {\n          settingsButton.focus();\n        }\n      }\n    );\n    let note = this.editorKit.internal.note;\n    if (note) {\n      if (debugMode) {\n        console.log(\n          'AppendEditor.tsx: \\n - onSaveSettings() this.editorKit.internal.componentManager.saveItemWithPresave() triggered'\n        );\n      }\n      this.editorKit.internal.componentManager.saveItemWithPresave(note, () => {\n        note.content.appendEditorCustomStyles = customStyles;\n        note.content.appendEditorEditingMode = editingMode;\n        note.content.appendEditorFontEdit = fontEdit;\n        note.content.appendEditorFontSize = fontSize;\n        note.content.appendEditorFontView = fontView;\n        note.content.appendEditorMonacoEditorLanguage = monacoEditorLanguage;\n      });\n      if (debugMode) {\n        console.log(\n          'AppendEditor.tsx: \\n - onSaveSettings() this.editorKit.internal.componentManager.saveItemWithPresave() completed'\n        );\n      }\n    }\n    if (saveAsDefault) {\n      this.setState(\n        {\n          defaultSettings: {\n            customStyles,\n            editingMode,\n            fontEdit,\n            fontSize,\n            fontView,\n            monacoEditorLanguage,\n          },\n        },\n        () => {\n          if (debugMode) {\n            console.log(\n              'AppendEditor.tsx: \\n - onSaveSettings() this.state.savingEditorOptions: ' +\n                this.state.savingEditorOptions +\n                '\\n JSON.stringify(this.state.defaultSettings):',\n              JSON.stringify(this.state.defaultSettings)\n            );\n          }\n          this.saveEditorOption(\n            'defaultSettings',\n            JSON.stringify(this.state.defaultSettings)\n          );\n        }\n      );\n    }\n  };\n\n  activateStyles = () => {\n    if (debugMode) {\n      console.log('AppendEditor.tsx: \\n - this.activateStyles() triggered');\n    }\n    const sheetToBeRemoved = document.getElementById('customStyleSheet');\n    if (sheetToBeRemoved) {\n      const sheetParent = sheetToBeRemoved.parentNode;\n      if (sheetParent) {\n        sheetParent.removeChild(sheetToBeRemoved);\n      }\n    }\n    // Follow the order that appears in the Settings to make the Settings cascade\n    let fontSizeStyle = '';\n    if (this.state.fontSize) {\n      fontSizeStyle =\n        '.CodeMirror, .DynamicEditor, .MonacoEditorContainer, .ProseMirror, #editTextArea, #appendTextArea, #renderedNote {font-size: ' +\n        this.state.fontSize +\n        ';}\\n';\n    }\n    let fontEditStyle = '';\n    if (this.state.fontEdit) {\n      fontEditStyle =\n        '.CodeMirror, .DynamicEditor, .ProseMirror, #editTextArea, #appendTextArea {font-family: ' +\n        this.state.fontEdit +\n        ';}\\n';\n    }\n    let fontViewStyle = '';\n    if (this.state.fontView) {\n      fontViewStyle =\n        '#renderedNote {font-family: ' + this.state.fontView + ';}\\n';\n    }\n    if (\n      this.state.customStyles ||\n      this.state.fontEdit ||\n      this.state.fontSize ||\n      this.state.fontView\n    ) {\n      const sheet = document.createElement('style');\n      sheet.setAttribute('id', 'customStyleSheet');\n      // Follow the order that appears in the Settings to make the Settings cascade\n      sheet.innerHTML =\n        fontSizeStyle + fontEditStyle + fontViewStyle + this.state.customStyles;\n      document.body.appendChild(sheet);\n    }\n  };\n\n  onCancelPrint = () => {\n    this.setState(\n      {\n        confirmPrintUrl: false,\n      },\n      () => {\n        const printButton = document.getElementById(HtmlElementId.printButton);\n        if (printButton) {\n          printButton.focus();\n        }\n      }\n    );\n  };\n\n  onConfirmPrintUrl = () => {\n    this.setState(\n      {\n        confirmPrintUrl: true,\n      },\n      () => {\n        const undoDialog = document.getElementById('undoDialog');\n        if (undoDialog) {\n          undoDialog.focus();\n        }\n      }\n    );\n  };\n\n  onPrintUrlTrue = () => {\n    this.setState(\n      {\n        confirmPrintUrl: false,\n        printURL: true,\n      },\n      () => {\n        this.printRenderedHtml();\n      }\n    );\n  };\n\n  onPrintUrlFalse = () => {\n    this.setState(\n      {\n        confirmPrintUrl: false,\n        printURL: false,\n      },\n      () => {\n        this.printRenderedHtml();\n      }\n    );\n  };\n\n  printRenderedHtml = () => {\n    window.print();\n    const printButton = document.getElementById(HtmlElementId.printButton);\n    if (printButton) {\n      printButton.focus();\n    }\n  };\n\n  goDown = () => {\n    document.body.scrollTop = 10000000; // for Safari\n    if (this.state.editMode) {\n      const editTextArea = document.getElementById(HtmlElementId.editTextArea);\n      if (editTextArea) {\n        editTextArea.scrollTop = 10000000;\n      }\n    }\n    if (this.state.appendMode) {\n      const appendTextArea = document.getElementById(\n        HtmlElementId.appendTextArea\n      );\n      if (appendTextArea) {\n        appendTextArea.scrollTop = 10000000;\n      }\n    }\n    if (this.state.fixedHeightMode) {\n      const view = document.getElementById(HtmlElementId.view);\n      if (view) {\n        view.scrollTop = 10000000;\n      }\n      /** Need edit for Dynamic */\n      const edit = document.getElementById(HtmlElementId.edit);\n      if (edit) {\n        edit.scrollTop = 10000000;\n      }\n      /** Scroll down for CodeMirror */\n      const codeMirrorList = document.getElementsByClassName(\n        'CodeMirror-vscrollbar'\n      );\n      const codeMirrorEditMode = codeMirrorList[0];\n      if (codeMirrorEditMode) {\n        codeMirrorEditMode.scrollTop = 10000000;\n      }\n    }\n  };\n\n  scrollToBottom = () => {\n    this.goDown();\n    const appendix = document.getElementById(HtmlElementId.appendix);\n    if (appendix) {\n      appendix.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end', // Bottom\n        inline: 'nearest',\n      });\n    }\n  };\n\n  // Skip to Bottom is fast \"auto\" behavior instead of \"smooth\" behavior\n  skipToBottom = () => {\n    this.goDown();\n    const appendix = document.getElementById(HtmlElementId.appendix);\n    if (appendix) {\n      appendix.scrollIntoView({\n        behavior: 'auto',\n        block: 'end', // Bottom\n        inline: 'nearest',\n      });\n    }\n  };\n\n  goUp = () => {\n    document.body.scrollTop = 0; // for Safari\n    if (this.state.editMode) {\n      const editTextArea = document.getElementById(HtmlElementId.editTextArea);\n      if (editTextArea) {\n        editTextArea.scrollTop = 0;\n      }\n    }\n    if (this.state.appendMode) {\n      const appendTextArea = document.getElementById(\n        HtmlElementId.appendTextArea\n      );\n      if (appendTextArea) {\n        appendTextArea.scrollTop = 0;\n      }\n    }\n    if (this.state.fixedHeightMode) {\n      const view = document.getElementById(HtmlElementId.view);\n      if (view) {\n        view.scrollTop = 0;\n      }\n      /** Need edit for Dynamic */\n      const edit = document.getElementById(HtmlElementId.edit);\n      if (edit) {\n        edit.scrollTop = 0;\n      }\n      /** Scroll up for CodeMirror */\n      const codeMirrorList = document.getElementsByClassName(\n        'CodeMirror-vscrollbar'\n      );\n      const codeMirrorEditMode = codeMirrorList[0];\n      if (codeMirrorEditMode) {\n        codeMirrorEditMode.scrollTop = 0;\n      }\n    }\n  };\n\n  scrollToTop = () => {\n    this.goUp();\n    const top = document.getElementById('top');\n    if (top) {\n      top.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start', // Top\n        inline: 'nearest',\n      });\n    }\n  };\n\n  // Need both content and appendix for mobile\n  // Skip to Bottom is fast \"auto\" behavior instead of \"smooth\" behavior\n  skipToTop = () => {\n    this.goUp();\n    const top = document.getElementById('top');\n    if (top) {\n      top.scrollIntoView({\n        behavior: 'auto',\n        block: 'start', // Top\n        inline: 'nearest',\n      });\n    }\n  };\n\n  onKeyDown = (e: React.KeyboardEvent | KeyboardEvent) => {\n    keyMap.set(e.key, true);\n    // Click the top Append if 'Control' and 'e' are pressed\n    if (keyMap.get('Control') && keyMap.get('e')) {\n      e.preventDefault();\n      this.onEditMode();\n    }\n    // Click the top Append if 'Control' and 'u' are pressed\n    else if (\n      keyMap.get('Control') &&\n      !keyMap.get('Alt') &&\n      (keyMap.get('u') || keyMap.get('m'))\n    ) {\n      e.preventDefault();\n      this.onAppendMode();\n    }\n    // Click view if 'Control' and 'p' are pressed\n    else if (keyMap.get('Control') && !keyMap.get('Alt') && keyMap.get('p')) {\n      e.preventDefault();\n      this.onViewMode();\n    } else if (keyMap.get('Control') && keyMap.get('.')) {\n      e.preventDefault();\n      this.setState({\n        appendRows: this.state.appendRows + 1,\n      });\n    } else if (keyMap.get('Control') && keyMap.get(',')) {\n      e.preventDefault();\n      if (this.state.appendRows > 5) {\n        this.setState({\n          appendRows: this.state.appendRows - 1,\n        });\n      }\n    } else if (keyMap.get('Control') && keyMap.get('<')) {\n      // Edit only mode\n      e.preventDefault();\n      this.setState(\n        {\n          appendMode: false,\n          editMode: false,\n          viewMode: false,\n        },\n        () => {\n          this.onEditMode();\n        }\n      );\n    } else if (keyMap.get('Control') && keyMap.get('>')) {\n      // Append only mode\n      e.preventDefault();\n      this.setState(\n        {\n          appendMode: false,\n          editMode: false,\n          viewMode: false,\n        },\n        () => {\n          this.onAppendMode();\n        }\n      );\n    } else if (keyMap.get('Control') && keyMap.get('[')) {\n      e.preventDefault();\n      this.skipToTop();\n    } else if (keyMap.get('Control') && keyMap.get(']')) {\n      e.preventDefault();\n      this.skipToBottom();\n    } else if (\n      keyMap.get('Control') &&\n      !keyMap.get('Alt') &&\n      !keyMap.get('Shift') &&\n      keyMap.get('w')\n    ) {\n      keyMap.delete('w');\n    }\n  };\n\n  onKeyDownAppendTextArea = (e: React.KeyboardEvent | KeyboardEvent) => {\n    // Close Append Mode if 'Escape' is pressed\n    if (keyMap.get('Escape')) {\n      e.preventDefault();\n      keyMap.delete('Escape');\n      this.onAppendMode();\n    }\n    // Save note if Control and Enter are pressed\n    else if (keyMap.get('Control') && keyMap.get('Enter')) {\n      e.preventDefault();\n      if (this.state.editingMode === EditingModes.useCodeMirror) {\n        this.appendTextToNote();\n      }\n    }\n    // Save note if Control and S are pressed\n    else if (keyMap.get('Control') && keyMap.get('s')) {\n      e.preventDefault();\n      if (this.state.editingMode === EditingModes.useCodeMirror) {\n        this.appendTextToNote();\n      }\n    }\n    // Toggle Append New Line if Ctrl + Alt + N are pressed\n    else if (\n      keyMap.get('Control') &&\n      !keyMap.get('Shift') &&\n      keyMap.get('Alt') &&\n      keyMap.get('n')\n    ) {\n      e.preventDefault();\n      const newLine = document.getElementById(HtmlElementId.newLine);\n      if (newLine) {\n        newLine.click();\n      }\n    }\n    // Toggle Append New Line if Ctrl + Alt + P are pressed\n    else if (\n      keyMap.get('Control') &&\n      !keyMap.get('Shift') &&\n      keyMap.get('Alt') &&\n      keyMap.get('p')\n    ) {\n      e.preventDefault();\n      const newParagraph = document.getElementById(HtmlElementId.newParagraph);\n      if (newParagraph) {\n        newParagraph.click();\n      }\n    }\n  };\n\n  onKeyDownEditTextArea = (e: React.KeyboardEvent | KeyboardEvent) => {\n    // Close EditMode if 'Escape' is pressed\n    if (keyMap.get('Escape')) {\n      e.preventDefault();\n      keyMap.set('Escape', false);\n      this.onEditMode();\n    }\n  };\n\n  onKeyDownTextArea = (e: React.KeyboardEvent | KeyboardEvent) => {\n    // Add two spaces and line break if Shift and Enter are pressed\n    if (keyMap.get('Shift') && keyMap.get('Enter')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '  \\n');\n    }\n    // Add two stars if Control + b are pressed\n    else if (keyMap.get('Control') && keyMap.get('b')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '**');\n    }\n    // Add header when pressing Control + H\n    else if (keyMap.get('Control') && keyMap.get('h')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '#');\n    }\n    // Add image code if Control + Alt and i are pressed\n    else if (keyMap.get('Control') && keyMap.get('Alt') && keyMap.get('i')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '![]()');\n    }\n    // Add one stars if Control + i is pressed\n    else if (keyMap.get('Control') && keyMap.get('i')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '*');\n    }\n    // Add inline code if Control + Alt and k are pressed\n    else if (keyMap.get('Control') && keyMap.get('Alt') && keyMap.get('k')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '`');\n    }\n    // Add link if Control + k are pressed\n    else if (keyMap.get('Control') && keyMap.get('k')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '[]()');\n    }\n    // Add ordered list item if Control + Alt + l are pressed\n    else if (keyMap.get('Control') && keyMap.get('Alt') && keyMap.get('l')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '\\n1. ');\n    }\n    // Add unordered list item if Control + l are pressed\n    else if (keyMap.get('Control') && keyMap.get('l')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '\\n- ');\n    }\n    // Add strike through if Control + Alt + u are pressed\n    else if (keyMap.get('Control') && keyMap.get('Alt') && keyMap.get('u')) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '~~');\n    }\n    // Add quote Control + q, Control + ' or Control + \" are pressed\n    else if (\n      (keyMap.get('Control') && keyMap.get('q')) ||\n      (keyMap.get('Control') && keyMap.get(\"'\")) ||\n      (keyMap.get('Control') && keyMap.get('\"'))\n    ) {\n      e.preventDefault();\n      document.execCommand('insertText', false, '\\n> ');\n    }\n  };\n\n  onKeyUp = (e: React.KeyboardEvent | KeyboardEvent) => {\n    keyMap.delete(e.key);\n  };\n\n  onBlur = (e: React.FocusEvent) => {\n    keyMap.clear();\n  };\n\n  onScroll = (e: Event) => {\n    if (!this.state.settingsMode) {\n      if (window.scrollY < last_known_scroll_position) {\n        // If scrolling up, fix header\n        this.activateFixedHeader();\n      } else if (\n        // If scrolling down, unfix header\n        window.scrollY > last_known_scroll_position &&\n        !this.state.showMenu\n      ) {\n        this.removeFixedHeader();\n      }\n      last_known_scroll_position = window.scrollY;\n    }\n  };\n\n  activateFixedHeader = () => {\n    const header = document.getElementById(HtmlElementId.header);\n    const content = document.getElementById(HtmlElementId.content);\n    // Activate only if we have both\n    if (header && content) {\n      header.classList.add(HtmlClassName.fixed);\n      content.classList.add(HtmlClassName.fixedHeader);\n    }\n  };\n\n  removeFixedHeader = () => {\n    const header = document.getElementById(HtmlElementId.header);\n    const content = document.getElementById(HtmlElementId.content);\n    /** Remove both even if you don't have both\n     * This is needed for loading settings\n     */\n    if (header) {\n      header.classList.remove(HtmlClassName.fixed);\n    }\n    if (content) {\n      content.classList.remove(HtmlClassName.fixedHeader);\n    }\n  };\n\n  render() {\n    return [\n      <span id=\"top\"></span>,\n      <div\n        tabIndex={0}\n        className=\"sn-component\"\n        onKeyDown={this.onKeyDown}\n        onKeyUp={this.onKeyUp}\n        onBlur={this.onBlur}\n      >\n        {this.state.showHeader && [\n          <div\n            id={HtmlElementId.header}\n            className={\n              'header' +\n              (this.state.editMode &&\n              !this.state.appendMode &&\n              !this.state.settingsMode &&\n              !this.state.viewMode\n                ? ' fixed'\n                : '')\n            }\n          >\n            <div className=\"sk-button-group\">\n              <button\n                type=\"button\"\n                id={HtmlElementId.editButton}\n                onClick={this.onEditMode}\n                title=\"Toggle Edit Mode\"\n                className={'sk-button ' + (this.state.editMode ? 'on' : 'off')}\n              >\n                <PencilIcon condition={this.state.editMode} role=\"button\" />\n              </button>\n              <button\n                type=\"button\"\n                id={HtmlElementId.viewButton}\n                onClick={this.onViewMode}\n                title=\"Toggle View Mode\"\n                className={'sk-button ' + (this.state.viewMode ? 'on' : 'off')}\n              >\n                <EyeIcon condition={this.state.viewMode} role=\"button\" />\n              </button>\n              <button\n                type=\"button\"\n                id={HtmlElementId.appendButton}\n                onClick={() => this.onAppendMode()}\n                title=\"Toggle Append Mode\"\n                className={\n                  'sk-button ' + (this.state.appendMode ? 'on' : 'off')\n                }\n              >\n                <PlusIcon condition={this.state.appendMode} role={'button'} />\n              </button>\n              <div className=\"sk-button divider\">\n                <svg\n                  role=\"img\"\n                  aria-label=\"Vertical line divider\"\n                  width=\"1\"\n                  height=\"24\"\n                  viewBox=\"0 0 1 24\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <rect\n                    width=\"1\"\n                    height=\"24\"\n                    fill={'var(--sn-stylekit-foreground-color)'}\n                  />\n                </svg>\n              </div>\n              <button\n                type=\"button\"\n                id={HtmlElementId.helpButton}\n                onClick={this.toggleShowHelp}\n                title=\"Help\"\n                className={'sk-button ' + (this.state.showHelp ? 'on' : 'off')}\n              >\n                <HelpIcon condition={this.state.showHelp} role={'button'} />\n              </button>\n              <button\n                type=\"button\"\n                id={HtmlElementId.settingsButton}\n                onClick={this.onSettingsMode}\n                title=\"Settings\"\n                className={\n                  'sk-button ' + (this.state.settingsMode ? 'on' : 'off')\n                }\n              >\n                <GearIcon condition={this.state.settingsMode} role=\"button\" />\n              </button>\n              <div className=\"sk-button divider\">\n                <svg\n                  role=\"img\"\n                  aria-label=\"Vertical line divider\"\n                  width=\"1\"\n                  height=\"24\"\n                  viewBox=\"0 0 1 24\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <rect\n                    width=\"1\"\n                    height=\"24\"\n                    fill={'var(--sn-stylekit-foreground-color)'}\n                  />\n                </svg>\n              </div>\n              <button\n                type=\"button\"\n                id=\"scrollToBottomButtonHeader\"\n                onClick={this.skipToBottom}\n                title=\"Scroll to Bottom\"\n                className={'sk-button off'}\n              >\n                <svg\n                  role=\"button\"\n                  aria-label=\"Arrow pointing down for scroll to bottom button\"\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M6.17622 7.15015L10.0012 10.9751L13.8262 7.15015L15.0012 8.33348L10.0012 13.3335L5.00122 8.33348L6.17622 7.15015Z\"\n                    fill={'var(--sn-stylekit-foreground-color)'}\n                  />\n                </svg>\n              </button>\n              <button\n                type=\"button\"\n                id=\"scrollToTopButtonHeader\"\n                onClick={this.skipToTop}\n                title=\"Scroll to Top\"\n                className={'sk-button off'}\n              >\n                <svg\n                  role=\"button\"\n                  aria-label=\"Arrow pointing up for scroll to top button\"\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M13.826 13.3335L10.001 9.5085L6.17597 13.3335L5.00097 12.1502L10.001 7.15017L15.001 12.1502L13.826 13.3335Z\"\n                    fill={'var(--sn-stylekit-foreground-color)'}\n                  />\n                </svg>\n              </button>\n              <button\n                type=\"button\"\n                id={HtmlElementId.menuButton}\n                onClick={this.toggleShowMenu}\n                title=\"Toggle Menu\"\n                className={'sk-button ' + (this.state.showMenu ? 'on' : 'off')}\n              >\n                <MenuIcon condition={this.state.showMenu} role=\"button\" />\n              </button>\n            </div>\n          </div>,\n        ]}\n        <div\n          id={HtmlElementId.content}\n          className={\n            'content' +\n            (this.state.editMode &&\n            !this.state.appendMode &&\n            !this.state.settingsMode &&\n            !this.state.viewMode\n              ? ' fixed-header'\n              : '') +\n            (this.state.borderlessMode ? ' borderless' : '') +\n            (this.state.fixedHeightMode ? ' fixed-height' : '') +\n            (this.state.fullWidthMode ? ' full-width' : '') +\n            (this.state.overflowMode ? ' overflow' : '')\n          }\n        >\n          {this.state.showMenu && (\n            <ErrorBoundary>\n              <Menu\n                borderlessMode={this.state.borderlessMode}\n                editingMode={this.state.editingMode}\n                fixedHeightMode={this.state.fixedHeightMode}\n                fullWidthMode={this.state.fullWidthMode}\n                monacoEditorLanguage={this.state.monacoEditorLanguage}\n                onConfirmPrintUrl={this.onConfirmPrintUrl}\n                overflowMode={this.state.overflowMode}\n                refreshEdit={this.refreshEdit}\n                refreshView={this.refreshView}\n                saveText={this.saveText}\n                showMenuOptionsEdit={this.state.showMenuOptionsEdit}\n                showMenuOptionsShare={this.state.showMenuOptionsShare}\n                showMenuOptionsView={this.state.showMenuOptionsView}\n                text={this.state.text}\n                toggleBorderlessMode={this.toggleBorderlessMode}\n                toggleFixedHeightMode={this.toggleFixedHeightMode}\n                toggleFullWidthMode={this.toggleFullWidthMode}\n                toggleOverflowMode={this.toggleOverflowMode}\n                toggleShowMenu={this.toggleShowMenu}\n                toggleShowMenuOptionsEdit={this.toggleShowMenuOptionsEdit}\n                toggleShowMenuOptionsShare={this.toggleShowMenuOptionsShare}\n                toggleShowMenuOptionsView={this.toggleShowMenuOptionsView}\n                viewMode={this.state.viewMode}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.settingsMode && (\n            <ErrorBoundary>\n              <Settings\n                cancelText=\"Cancel\"\n                confirmText=\"Save\"\n                customStyles={this.state.customStyles}\n                debugMode={debugMode}\n                defaultSettings={this.state.defaultSettings}\n                editingMode={this.state.editingMode}\n                fontEdit={this.state.fontEdit}\n                fontSize={this.state.fontSize}\n                fontView={this.state.fontView}\n                helpLink={'https://appendeditor.com/#settings'}\n                keyMap={keyMap}\n                onConfirm={this.onSaveSettings}\n                onCancel={this.onSettingsMode}\n                title={`Append Editor Settings`}\n                monacoEditorLanguage={this.state.monacoEditorLanguage}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.editMode && !this.state.refreshEdit && (\n            <ErrorBoundary>\n              <EditNote\n                debugMode={debugMode}\n                editingMode={this.state.editingMode}\n                fontSize={this.state.fontSize}\n                keyMap={keyMap}\n                monacoEditorLanguage={this.state.monacoEditorLanguage}\n                onKeyDown={this.onKeyDown}\n                onKeyDownEditTextArea={this.onKeyDownEditTextArea}\n                onKeyDownTextArea={this.onKeyDownTextArea}\n                onKeyUp={this.onKeyUp}\n                saveText={this.saveText}\n                text={this.state.text}\n                viewMode={this.state.viewMode}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.editMode && this.state.refreshEdit && (\n            <ErrorBoundary>\n              <EditNote\n                debugMode={debugMode}\n                editingMode={this.state.editingMode}\n                fontSize={this.state.fontSize}\n                keyMap={keyMap}\n                monacoEditorLanguage={this.state.monacoEditorLanguage}\n                onKeyDown={this.onKeyDown}\n                onKeyDownEditTextArea={this.onKeyDownEditTextArea}\n                onKeyDownTextArea={this.onKeyDownTextArea}\n                onKeyUp={this.onKeyUp}\n                saveText={this.saveText}\n                text={this.state.text}\n                viewMode={this.state.viewMode}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.viewMode && !this.state.refreshView && (\n            <ErrorBoundary>\n              <ViewNote\n                appendMode={this.state.appendMode}\n                bypassDebounce={this.state.bypassDebounce}\n                debugMode={debugMode}\n                editMode={this.state.editMode}\n                editingMode={this.state.editingMode}\n                monacoEditorLanguage={this.state.monacoEditorLanguage}\n                printURL={this.state.printURL}\n                showHelp={this.state.showHelp}\n                saveText={this.saveText}\n                text={this.state.text}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.viewMode && this.state.refreshView && (\n            <ErrorBoundary>\n              <ViewNote\n                appendMode={this.state.appendMode}\n                bypassDebounce={this.state.bypassDebounce}\n                debugMode={debugMode}\n                editMode={this.state.editMode}\n                editingMode={this.state.editingMode}\n                monacoEditorLanguage={this.state.monacoEditorLanguage}\n                printURL={this.state.printURL}\n                showHelp={this.state.showHelp}\n                saveText={this.saveText}\n                text={this.state.text}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.confirmPrintUrl && (\n            <ErrorBoundary>\n              <PrintDialog\n                title={`Would you like to print URLs?`}\n                onUndo={this.onCancelPrint}\n                onConfirm={this.onPrintUrlTrue}\n                onCancel={this.onPrintUrlFalse}\n                helpLink={'https://appendeditor.com/#printing'}\n                confirmText=\"Yes, print URLs\"\n                cancelText=\"No, thanks\"\n              />{' '}\n            </ErrorBoundary>\n          )}\n\n          {this.state.showDiff && [\n            <ErrorBoundary>\n              <MonacoDiffEditor\n                text={this.state.text}\n                modifiedText={this.state.appendText}\n                saveText={this.saveText}\n              />\n            </ErrorBoundary>,\n          ]}\n        </div>\n        {this.state.showAppendix && [\n          <div\n            id={HtmlElementId.appendix}\n            className={\n              'appendix' +\n              (this.state.borderlessMode ? ' borderless' : '') +\n              (this.state.fullWidthMode ? ' full-width' : '')\n            }\n          >\n            {this.state.appendMode && (\n              <ErrorBoundary>\n                <AppendText\n                  appendTextToNote={this.appendTextToNote}\n                  autoSaveAppendText={this.autoSaveAppendText}\n                  autoSaveCheckBoxes={this.autoSaveCheckBoxes}\n                  debugMode={debugMode}\n                  editingMode={this.state.editingMode}\n                  fontSize={this.state.fontSize}\n                  keyMap={keyMap}\n                  appendNewLine={this.state.appendNewLine}\n                  appendNewParagraph={this.state.appendNewParagraph}\n                  monacoEditorLanguage={this.state.monacoEditorLanguage}\n                  onKeyDown={this.onKeyDown}\n                  onKeyDownAppendTextArea={this.onKeyDownAppendTextArea}\n                  onKeyDownTextArea={this.onKeyDownTextArea}\n                  onKeyUp={this.onKeyUp}\n                  appendRows={this.state.appendRows}\n                  text={this.state.appendText}\n                />\n              </ErrorBoundary>\n            )}\n            <button\n              className=\"sk-button info\"\n              id=\"scrollToTopButton\"\n              onClick={this.scrollToTop}\n              title=\"Scroll to Top\"\n              type=\"button\"\n            >\n              <div> ▲ </div>\n            </button>\n            <button\n              className=\"sk-button info\"\n              id=\"scrollToBottomButton\"\n              onClick={this.scrollToBottom}\n              title=\"Scroll to Bottom\"\n              type=\"button\"\n            >\n              <div> ▼ </div>\n            </button>\n          </div>,\n        ]}\n      </div>,\n    ];\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\nimport reportWebVitals from './reportWebVitals';\n\nimport AppendEditor from './components/AppendEditor';\nimport './stylesheets/main.scss';\nReactDOM.render(\n  <React.StrictMode>\n    <AppendEditor />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}